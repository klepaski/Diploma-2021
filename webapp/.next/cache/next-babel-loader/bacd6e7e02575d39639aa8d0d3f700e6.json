{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { Footer, Label, Label2, Title } from \"../../Layouts/styledLayouts\";\nimport { Wrapper, WrapperHeight } from \"../../StyledComponents/Wrapper\";\nimport { SearchingBlockWrapper } from \"./styledSearchBlock\";\nimport { Button } from \"../../controls/Button/Button\";\nimport Header from \"../../Header/Header\";\nimport Select from \"../../controls/Select/Select\";\nimport { Input } from \"../../controls/Input/Input\";\nimport DatePicker from \"../../controls/DateTimePickers/Datepicker\"; // import {listCountries} from '../../../utils/countriesLanguages'\n\nimport { apiGetListOffers } from '../../../actions/api';\nimport ListOffers from '../list/ListOffers';\nconst listCountries = [{\n  value: 'United Arab Emirates',\n  label: 'United Arab Emirates'\n}, {\n  value: 'Saudi Arabia',\n  label: 'Saudi Arabia'\n}];\n\nconst SearchBlock = () => {\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const {\n    0: from,\n    1: setFrom\n  } = useState(null);\n  const {\n    0: to,\n    1: setTo\n  } = useState(null);\n  const {\n    0: country,\n    1: setCountry\n  } = useState('');\n  const {\n    0: listOffers,\n    1: setListOffers\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  let onChangeSearch = e => {\n    setSearch(e.target.value);\n  };\n\n  const onChangeDateFrom = date => {\n    setFrom(date);\n  };\n\n  const onChangeDateTo = date => {\n    setTo(date);\n  };\n\n  const handleChangeCountry = country => {\n    setCountry(country.value);\n  };\n\n  const getListOffers = () => {\n    let params = {\n      search: search,\n      country: country\n    };\n    apiGetListOffers(params).then(res => {\n      setListOffers(res.data);\n    }).catch(e => {});\n  };\n\n  const handleStartSearch = () => {\n    let fromSearch = from && new Date(from) ? new Date(from).getTime() : '';\n    let toSearch = to && new Date(to) ? new Date(to).getTime() : '';\n    Router.push(`/offers/list?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, `/offers/list?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, {\n      shallow: true\n    });\n  };\n\n  return __jsx(SearchingBlockWrapper, null, __jsx(Label, {\n    small: true\n  }, \"Who are you looking for?\"), __jsx(Input, {\n    type: 'text',\n    value: search,\n    onChange: onChangeSearch,\n    placeholder: \"Anyone\",\n    mb: '5px',\n    fz: 15\n  }), __jsx(\"div\", {\n    className: \"row\"\n  }, __jsx(\"div\", {\n    className: \"col-xs-6\"\n  }, __jsx(Label2, null, \"From\"), __jsx(Wrapper, {\n    mb: 20,\n    width100: true\n  }, __jsx(DatePicker, {\n    selected: from,\n    name: \"date\",\n    maxDate: to,\n    onChange: onChangeDateFrom,\n    showYearDropdown: true,\n    withPortal: true,\n    dateFormat: \"dd/MM/yyyy\"\n  }))), __jsx(\"div\", {\n    className: \"col-xs-6\"\n  }, __jsx(Label2, null, \"To\"), __jsx(Wrapper, {\n    mb: 20,\n    width100: true\n  }, __jsx(DatePicker, {\n    selected: to,\n    name: \"date\",\n    minDate: from,\n    onChange: onChangeDateTo,\n    showYearDropdown: true,\n    withPortal: true,\n    dateFormat: \"dd/MM/yyyy\"\n  })))), __jsx(Label2, null, \"What is the location of the event?\"), __jsx(Select, {\n    options: listCountries,\n    value: country,\n    onChange: handleChangeCountry\n  }), __jsx(Button, {\n    green: true,\n    bold: true,\n    mt: 30,\n    onClick: handleStartSearch\n  }, \"Start searching\"));\n};\n\nexport default SearchBlock;","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Offer/search/SearchBlock.js"],"names":["React","useState","useEffect","Router","useRouter","Footer","Label","Label2","Title","Wrapper","WrapperHeight","SearchingBlockWrapper","Button","Header","Select","Input","DatePicker","apiGetListOffers","ListOffers","listCountries","value","label","SearchBlock","search","setSearch","from","setFrom","to","setTo","country","setCountry","listOffers","setListOffers","loading","setLoading","onChangeSearch","e","target","onChangeDateFrom","date","onChangeDateTo","handleChangeCountry","getListOffers","params","then","res","data","catch","handleStartSearch","fromSearch","Date","getTime","toSearch","push","shallow"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport Router, { useRouter } from 'next/router'\r\n\r\nimport {\r\n    Footer, Label, Label2, Title,\r\n} from \"../../Layouts/styledLayouts\";\r\nimport {Wrapper, WrapperHeight} from \"../../StyledComponents/Wrapper\";\r\nimport {SearchingBlockWrapper} from \"./styledSearchBlock\";\r\nimport {Button} from \"../../controls/Button/Button\";\r\nimport Header from \"../../Header/Header\"\r\nimport Select from \"../../controls/Select/Select\";\r\nimport {Input} from \"../../controls/Input/Input\";\r\nimport DatePicker from \"../../controls/DateTimePickers/Datepicker\";\r\n// import {listCountries} from '../../../utils/countriesLanguages'\r\nimport {apiGetListOffers} from '../../../actions/api'\r\nimport ListOffers from '../list/ListOffers'\r\n\r\nconst listCountries = [\r\n    {value: 'United Arab Emirates', label: 'United Arab Emirates'},\r\n    {value: 'Saudi Arabia', label: 'Saudi Arabia'}\r\n]\r\n\r\nconst SearchBlock = () => {\r\n    const [search, setSearch] = useState('')\r\n    const [from, setFrom] = useState(null)\r\n    const [to, setTo] = useState(null)\r\n    const [country, setCountry] = useState('')\r\n    const [listOffers, setListOffers] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    let onChangeSearch = (e) => {\r\n        setSearch(e.target.value)\r\n    }\r\n    const onChangeDateFrom = date => {\r\n        setFrom(date)\r\n    }\r\n    const onChangeDateTo = date => {\r\n        setTo(date)\r\n    }\r\n    const handleChangeCountry = country => {\r\n        setCountry(country.value)\r\n    };\r\n\r\n    const getListOffers = () => {\r\n        let params = {\r\n            search: search,\r\n            country: country\r\n        }\r\n        apiGetListOffers(params)\r\n            .then(res => {\r\n                setListOffers(res.data)\r\n            })\r\n            .catch(e => {\r\n\r\n            })\r\n    }\r\n\r\n    const handleStartSearch = () => {\r\n        let fromSearch = (from && new Date(from)) ? new Date(from).getTime() : ''\r\n        let toSearch = (to && new Date(to)) ? new Date(to).getTime() : ''\r\n\r\n        Router.push(`/offers/list?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, `/offers/list?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, {shallow: true})\r\n    }\r\n\r\n    return (\r\n        <SearchingBlockWrapper>\r\n            <Label small >Who are you looking for?</Label>\r\n            <Input type={'text'}\r\n                   value={search}\r\n                   onChange={onChangeSearch}\r\n                   placeholder=\"Anyone\"\r\n                   mb={'5px'}\r\n                   fz={15}\r\n            />\r\n            <div className=\"row\">\r\n                <div className=\"col-xs-6\">\r\n                    <Label2>From</Label2>\r\n                    <Wrapper mb={20} width100>\r\n                        <DatePicker\r\n                            selected={from}\r\n                            name='date'\r\n                            maxDate={to}\r\n                            onChange={onChangeDateFrom}\r\n                            showYearDropdown\r\n                            withPortal\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                        />\r\n                    </Wrapper>\r\n                </div>\r\n                <div className=\"col-xs-6\">\r\n                    <Label2>To</Label2>\r\n                    <Wrapper mb={20} width100>\r\n                        <DatePicker\r\n                            selected={to}\r\n                            name='date'\r\n                            minDate={from}\r\n                            onChange={onChangeDateTo}\r\n                            showYearDropdown\r\n                            withPortal\r\n                            dateFormat=\"dd/MM/yyyy\"\r\n                        />\r\n                    </Wrapper>\r\n                </div>\r\n            </div>\r\n\r\n            <Label2>What is the location of the event?</Label2>\r\n            <Select\r\n                options={listCountries}\r\n                value={country}\r\n                onChange={handleChangeCountry}\r\n            />\r\n\r\n            <Button green bold mt={30} onClick={handleStartSearch} >Start searching</Button>\r\n\r\n        </SearchingBlockWrapper>\r\n    );\r\n};\r\n\r\nexport default SearchBlock;"]},"metadata":{},"sourceType":"module"}