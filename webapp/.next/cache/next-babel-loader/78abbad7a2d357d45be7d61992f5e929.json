{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { Footer, Label, Label2, Title } from '../../Layouts/styledLayouts';\nimport { Wrapper, WrapperHeight } from '../../StyledComponents/Wrapper';\nimport { Button } from '../../controls/Button/Button';\nimport Header from '../../Header/Header';\nimport Select from '../../controls/Select/Select';\nimport { Input, InputWrapper } from '../../controls/Input/Input';\nimport DatePicker from '../../controls/DateTimePickers/Datepicker';\nimport { apiGetListOffers } from '../../../actions/api';\nimport ListOffers from '../list/ListOffers';\nimport { device } from '../../../lib/mediaDevice';\nimport { useDetectDevice } from '../../../lib/useDetectDevice';\nimport { ButtonWithIcon } from '../../controls/Button/ButtonWithIcon';\nconst listCountries = [{\n  value: 'United Arab Emirates',\n  label: 'United Arab Emirates'\n}, {\n  value: 'Saudi Arabia',\n  label: 'Saudi Arabia'\n}];\n\nconst SearchBlock = ({\n  blackTitle,\n  searchStr = '',\n  fromP = null,\n  toP = null,\n  countryStr = ''\n}) => {\n  const currentDevice = useDetectDevice();\n  const {\n    0: search,\n    1: setSearch\n  } = useState(searchStr);\n  const {\n    0: from,\n    1: setFrom\n  } = useState(fromP);\n  const {\n    0: to,\n    1: setTo\n  } = useState(toP);\n  const {\n    0: country,\n    1: setCountry\n  } = useState(countryStr);\n  const {\n    0: listOffers,\n    1: setListOffers\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  let onChangeSearch = e => {\n    setSearch(e.target.value);\n  };\n\n  const onChangeDateFrom = date => {\n    setFrom(date);\n  };\n\n  const onChangeDateTo = date => {\n    setTo(date);\n  };\n\n  const handleChangeCountry = country => {\n    setCountry(country.value);\n  };\n\n  const getListOffers = () => {\n    let params = {\n      search: search,\n      country: country\n    };\n    apiGetListOffers(params).then(res => {\n      setListOffers(res.data);\n    }).catch(e => {});\n  };\n\n  const handleStartSearch = () => {\n    let fromSearch = from && new Date(from) ? new Date(from).getTime() : '';\n    let toSearch = to && new Date(to) ? new Date(to).getTime() : '';\n    Router.push(`/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, `/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`, {\n      shallow: true\n    });\n  };\n\n  return __jsx(Box, null, __jsx(Label, {\n    small: true\n  }, \"Who are you looking for?\"), __jsx(WrapperFlex, null, __jsx(WFBox, {\n    width: 45\n  }, __jsx(LabelD, null, \"Programmer\"), __jsx(Input, {\n    type: 'text',\n    value: search,\n    onChange: onChangeSearch,\n    placeholder: \"Anyone\",\n    mb: '5px',\n    fz: 15\n  })), __jsx(ButtonWithIcon, {\n    onClick: handleStartSearch,\n    search: true\n  })));\n};\n\nconst SearchingBlockWrapper = styled.div``;\nconst Box = styled.div`\n  width: 430px;\n  margin: 0 auto;\n  position: relative;\n  top: -13px;\n\n  @media ${device.iPad} {\n    width: 100%;\n    top: 50px;\n  }\n\n  ${Label} {\n    color: #ffffff;\n    font-size: 24px;\n  }\n`;\nconst WrapperFlex = styled.div`\n  margin-top: 25px;\n  display: flex;\n  justify-content: space-between;\n  //align-items: flex-end;\n\n  ${ButtonWithIcon} {\n    width: 46px;\n  }\n  ${InputWrapper} {\n    height: 46px;\n    min-height: 46px;\n    margin-bottom: 0;\n  }\n`;\nconst WFBox = styled.div`\n  width: ${p => `${p.width}%`};\n`;\nconst DateBox = styled.div`\n  width: 300px;\n  display: flex;\n\n  .picker-left input {\n    border-right: 0;\n    border-radius: 5px 0px 0px 5px;\n  }\n  .picker-right input {\n    //border-left: 0;\n    border-radius: 0 5px 5px 0px;\n  }\n`;\nconst SelectBox = styled.div`\n  width: ${p => p.width ? `${p.width}%` : '35%'};\n\n  > div > div > div {\n    min-height: 46px;\n  }\n`;\nconst LabelD = styled.div`\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.7);\n  margin-bottom: 10px;\n`;\nexport default SearchBlock;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/search/SearchBlock.js"],"names":["React","useState","useEffect","Router","useRouter","styled","Footer","Label","Label2","Title","Wrapper","WrapperHeight","Button","Header","Select","Input","InputWrapper","DatePicker","apiGetListOffers","ListOffers","device","useDetectDevice","ButtonWithIcon","listCountries","value","label","SearchBlock","blackTitle","searchStr","fromP","toP","countryStr","currentDevice","search","setSearch","from","setFrom","to","setTo","country","setCountry","listOffers","setListOffers","loading","setLoading","onChangeSearch","e","target","onChangeDateFrom","date","onChangeDateTo","handleChangeCountry","getListOffers","params","then","res","data","catch","handleStartSearch","fromSearch","Date","getTime","toSearch","push","shallow","SearchingBlockWrapper","div","Box","iPad","WrapperFlex","WFBox","p","width","DateBox","SelectBox","LabelD"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Router, { useRouter } from 'next/router'\r\nimport styled from 'styled-components'\r\nimport { Footer, Label, Label2, Title } from '../../Layouts/styledLayouts'\r\nimport { Wrapper, WrapperHeight } from '../../StyledComponents/Wrapper'\r\nimport { Button } from '../../controls/Button/Button'\r\nimport Header from '../../Header/Header'\r\nimport Select from '../../controls/Select/Select'\r\nimport { Input, InputWrapper } from '../../controls/Input/Input'\r\nimport DatePicker from '../../controls/DateTimePickers/Datepicker'\r\nimport { apiGetListOffers } from '../../../actions/api'\r\nimport ListOffers from '../list/ListOffers'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport { useDetectDevice } from '../../../lib/useDetectDevice'\r\nimport { ButtonWithIcon } from '../../controls/Button/ButtonWithIcon'\r\n\r\nconst listCountries = [\r\n  { value: 'United Arab Emirates', label: 'United Arab Emirates' },\r\n  { value: 'Saudi Arabia', label: 'Saudi Arabia' },\r\n]\r\n\r\nconst SearchBlock = ({ blackTitle, searchStr = '', fromP = null, toP = null, countryStr = '' }) => {\r\n  const currentDevice = useDetectDevice()\r\n  const [search, setSearch] = useState(searchStr)\r\n  const [from, setFrom] = useState(fromP)\r\n  const [to, setTo] = useState(toP)\r\n  const [country, setCountry] = useState(countryStr)\r\n  const [listOffers, setListOffers] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  let onChangeSearch = (e) => {\r\n    setSearch(e.target.value)\r\n  }\r\n  const onChangeDateFrom = (date) => {\r\n    setFrom(date)\r\n  }\r\n  const onChangeDateTo = (date) => {\r\n    setTo(date)\r\n  }\r\n  const handleChangeCountry = (country) => {\r\n    setCountry(country.value)\r\n  }\r\n\r\n  const getListOffers = () => {\r\n    let params = {\r\n      search: search,\r\n      country: country,\r\n    }\r\n    apiGetListOffers(params)\r\n      .then((res) => {\r\n        setListOffers(res.data)\r\n      })\r\n      .catch((e) => {})\r\n  }\r\n\r\n  const handleStartSearch = () => {\r\n    let fromSearch = from && new Date(from) ? new Date(from).getTime() : ''\r\n    let toSearch = to && new Date(to) ? new Date(to).getTime() : ''\r\n\r\n    Router.push(\r\n      `/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`,\r\n      `/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`,\r\n      { shallow: true },\r\n    )\r\n  }\r\n\r\n    return (\r\n      <Box>\r\n        <Label small>Who are you looking for?</Label>\r\n        <WrapperFlex>\r\n          <WFBox width={45}>\r\n            <LabelD>Programmer</LabelD>\r\n            <Input\r\n              type={'text'}\r\n              value={search}\r\n              onChange={onChangeSearch}\r\n              placeholder=\"Anyone\"\r\n              mb={'5px'}\r\n              fz={15}\r\n            />\r\n          </WFBox>\r\n          {/*<DateBox>\r\n            <div className={'picker-left'}>\r\n              <LabelD>From</LabelD>\r\n              <DatePicker\r\n                selected={from}\r\n                name=\"date\"\r\n                maxDate={to}\r\n                onChange={onChangeDateFrom}\r\n                showYearDropdown\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                placeholderText={'dd/mm/yyyy'}\r\n              />\r\n            </div>\r\n            <div className={'picker-right'}>\r\n              <LabelD>To</LabelD>\r\n              <DatePicker\r\n                selected={to}\r\n                name=\"date\"\r\n                minDate={from}\r\n                onChange={onChangeDateTo}\r\n                showYearDropdown\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                placeholderText={'dd/mm/yyyy'}\r\n              />\r\n            </div>\r\n          </DateBox>*/}\r\n\r\n          <ButtonWithIcon onClick={handleStartSearch} search />\r\n        </WrapperFlex>\r\n      </Box>\r\n    )\r\n}\r\n\r\nconst SearchingBlockWrapper = styled.div``\r\nconst Box = styled.div`\r\n  width: 430px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  top: -13px;\r\n\r\n  @media ${device.iPad} {\r\n    width: 100%;\r\n    top: 50px;\r\n  }\r\n\r\n  ${Label} {\r\n    color: #ffffff;\r\n    font-size: 24px;\r\n  }\r\n`\r\nconst WrapperFlex = styled.div`\r\n  margin-top: 25px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  //align-items: flex-end;\r\n\r\n  ${ButtonWithIcon} {\r\n    width: 46px;\r\n  }\r\n  ${InputWrapper} {\r\n    height: 46px;\r\n    min-height: 46px;\r\n    margin-bottom: 0;\r\n  }\r\n`\r\nconst WFBox = styled.div`\r\n  width: ${(p) => `${p.width}%`};\r\n`\r\nconst DateBox = styled.div`\r\n  width: 300px;\r\n  display: flex;\r\n\r\n  .picker-left input {\r\n    border-right: 0;\r\n    border-radius: 5px 0px 0px 5px;\r\n  }\r\n  .picker-right input {\r\n    //border-left: 0;\r\n    border-radius: 0 5px 5px 0px;\r\n  }\r\n`\r\n\r\nconst SelectBox = styled.div`\r\n  width: ${(p) => p.width ? `${p.width}%` : '35%'};\r\n\r\n  > div > div > div {\r\n    min-height: 46px;\r\n  }\r\n`\r\nconst LabelD = styled.div`\r\n  font-size: 14px;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  margin-bottom: 10px;\r\n`\r\n\r\nexport default SearchBlock\r\n"]},"metadata":{},"sourceType":"module"}