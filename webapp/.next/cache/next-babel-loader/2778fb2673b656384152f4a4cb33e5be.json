{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext, useEffect } from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { Footer, Label2 } from '../../components/Layouts/styledLayouts';\nimport { Wrapper, WrapperHeight } from '../../components/StyledComponents/Wrapper';\nimport { Button } from '../../components/controls/Button/Button';\nimport Header from '../../components/Header/Header';\nimport Select from '../../components/controls/Select/Select';\nimport { Input } from '../../components/controls/Input/Input';\nimport DatePicker from '../../components/controls/DateTimePickers/Datepicker';\nimport { listCountries } from '../../utils/countriesLanguages';\nimport { apiGetListOffers } from '../../actions/api';\nimport ListOffers from '../../components/Offer/list/ListOffers';\nimport { MainContext } from '../../components/contextProviders/MainContext';\nimport { urlSearchParams } from '../../utils/utils';\nimport SearchBlock from '../../components/Offer/search/SearchBlock';\nimport { WrapSearchParams, SearchParamsWrapItem, SearchParamsLabel, SearchParamsValue } from '../../components/StyledComponents/styledComponents';\nimport { Text } from '../../components/StyledComponents/Text';\nimport { Divider } from '../../components/StyledComponents/Divider';\nimport { ContainerDesktop } from '../../components/StyledComponents/Grid';\n\nconst Categories = () => {\n  let {\n    search,\n    last,\n    type\n  } = urlSearchParams();\n  const {\n    listOffers\n  } = useContext(MainContext);\n  const {\n    0: list,\n    1: setList\n  } = useState(listOffers);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  useEffect(() => {\n    getListOffers();\n  }, [search]);\n\n  const getListOffers = () => {\n    let params = {\n      search: search,\n      last: last,\n      type: type\n    };\n    setLoading(true);\n    apiGetListOffers(params).then(res => {\n      setList(res.data);\n      setLoading(false);\n    }).catch(e => {\n      setLoading(false);\n    });\n  };\n\n  let title = '';\n  if (last) title = 'Recently added';\n  if (search) title = `Category: ${search.charAt(0).toUpperCase() + search.slice(1)}`;\n  if (type) title = `For: ${type.charAt(0).toUpperCase() + type.slice(1)}`;\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    isProfile: true\n  }), __jsx(ContainerDesktop, null, __jsx(Wrapper, {\n    p: 15\n  }, __jsx(Title, null, title), loading && __jsx(\"div\", null, \"Loading... \"), list.length ? __jsx(ListOffers, {\n    offers: list\n  }) : __jsx(\"div\", null, !loading && __jsx(\"div\", null, \"No results\")))));\n};\n\nconst Title = styled.div`\n  font-size: 24px;\n  margin-bottom: 50px;\n  margin-top: 20px;\n`;\nexport default Categories;","map":{"version":3,"sources":["D:/git/webapp3/webapp/pages/offers/categories.js"],"names":["React","useState","useContext","useEffect","moment","styled","Footer","Label2","Wrapper","WrapperHeight","Button","Header","Select","Input","DatePicker","listCountries","apiGetListOffers","ListOffers","MainContext","urlSearchParams","SearchBlock","WrapSearchParams","SearchParamsWrapItem","SearchParamsLabel","SearchParamsValue","Text","Divider","ContainerDesktop","Categories","search","last","type","listOffers","list","setList","loading","setLoading","getListOffers","params","then","res","data","catch","e","title","charAt","toUpperCase","slice","length","Title","div"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport moment from 'moment'\r\nimport styled from 'styled-components'\r\nimport { Footer, Label2 } from '../../components/Layouts/styledLayouts'\r\nimport { Wrapper, WrapperHeight } from '../../components/StyledComponents/Wrapper'\r\nimport { Button } from '../../components/controls/Button/Button'\r\nimport Header from '../../components/Header/Header'\r\nimport Select from '../../components/controls/Select/Select'\r\nimport { Input } from '../../components/controls/Input/Input'\r\nimport DatePicker from '../../components/controls/DateTimePickers/Datepicker'\r\nimport { listCountries } from '../../utils/countriesLanguages'\r\nimport { apiGetListOffers } from '../../actions/api'\r\nimport ListOffers from '../../components/Offer/list/ListOffers'\r\nimport { MainContext } from '../../components/contextProviders/MainContext'\r\nimport { urlSearchParams } from '../../utils/utils'\r\nimport SearchBlock from '../../components/Offer/search/SearchBlock'\r\nimport {\r\n  WrapSearchParams,\r\n  SearchParamsWrapItem,\r\n  SearchParamsLabel,\r\n  SearchParamsValue,\r\n} from '../../components/StyledComponents/styledComponents'\r\nimport { Text } from '../../components/StyledComponents/Text'\r\nimport { Divider } from '../../components/StyledComponents/Divider'\r\nimport { ContainerDesktop } from '../../components/StyledComponents/Grid'\r\n\r\nconst Categories = () => {\r\n  let { search, last, type } = urlSearchParams()\r\n  const { listOffers } = useContext(MainContext)\r\n  const [list, setList] = useState(listOffers)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    getListOffers()\r\n  }, [search])\r\n\r\n  const getListOffers = () => {\r\n    let params = {\r\n      search: search,\r\n      last: last,\r\n      type: type\r\n    }\r\n    setLoading(true)\r\n    apiGetListOffers(params)\r\n      .then((res) => {\r\n        setList(res.data)\r\n        setLoading(false)\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  let title = ''\r\n  if(last) title = 'Recently added'\r\n  if(search) title = `Category: ${search.charAt(0).toUpperCase() + search.slice(1)}`\r\n  if(type) title = `For: ${type.charAt(0).toUpperCase() + type.slice(1)}`\r\n\r\n  return (\r\n    <>\r\n      <Header isProfile />\r\n      <ContainerDesktop>\r\n        <Wrapper p={15}>\r\n          <Title>{title}</Title>\r\n          {loading && <div>Loading... </div>}\r\n\r\n          {list.length ? (\r\n            <ListOffers offers={list} />\r\n          ) : (\r\n            <div>{!loading && <div>No results</div>}</div>\r\n          )}\r\n        </Wrapper>\r\n      </ContainerDesktop>\r\n    </>\r\n  )\r\n}\r\n\r\nconst Title = styled.div`\r\n  font-size: 24px;\r\n  margin-bottom: 50px;\r\n  margin-top: 20px;\r\n`\r\n\r\nexport default Categories\r\n"]},"metadata":{},"sourceType":"module"}