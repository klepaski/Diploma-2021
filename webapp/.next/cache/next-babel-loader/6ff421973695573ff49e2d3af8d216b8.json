{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    @media \", \" {\\n      \", \" {\\n        margin-bottom: 10px;\\n        \\n        > div {\\n            border: 1px solid #dcdcdc;\\n        }\\n      }\\n    }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  @media \", \" {\\n    display: flex;\\n\\n    \", \" {\\n      width: 30%;\\n      padding-right: 20px;\\n      \\n      button {\\n        margin-top: 20px;\\n      }\\n    }\\n\\n    \", \" {\\n      width: 70%;\\n      padding-left: 20px;\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useContext } from 'react';\nimport Link from \"next/link\";\nimport { sortable } from 'react-sortable';\nimport moment from \"moment/moment\";\nimport { MainContext, MainConsumer } from \"../../contextProviders/MainContext\";\nimport styled, { css } from 'styled-components';\nimport { device } from '../../../lib/mediaDevice';\nimport { WrapLine, LeftText, RightText } from './styled';\nimport { Button } from \"../../controls/Button/Button\";\nimport { CoverPhotoPreview, PhotoItem } from '../../Photo/Photo';\nimport EditPhoto from '../../Photo/EditPhoto';\nimport { Footer } from \"../../Layouts/styledLayouts\";\nimport { Container, Row, Column } from '../../StyledComponents/Grid';\nimport UploadBtn from '../../controls/Upload/UploadBtn';\nimport { Text } from \"../../StyledComponents/Text\";\nimport { FlexBlock } from \"../../StyledComponents/FlexBlock\";\nimport './photo.css';\nimport { ButtonWithIcon } from \"../../controls/Button/ButtonWithIcon\";\nimport { modifySrc } from \"../../../utils/modifySrc\";\n\nvar Photos = function Photos(_ref) {\n  var photos = _ref.photos,\n      cover = _ref.cover,\n      onDrop = _ref.onDrop,\n      setEditablePhoto = _ref.setEditablePhoto,\n      setStep = _ref.setStep,\n      typeDefaultCover = _ref.typeDefaultCover,\n      handleDeleteAll = _ref.handleDeleteAll,\n      isDeletingAll = _ref.isDeletingAll,\n      isHiddenDeleting = _ref.isHiddenDeleting,\n      uploading = _ref.uploading;\n\n  var preonDrop = function preonDrop(files) {\n    onDrop(files);\n  };\n\n  var avatarUrl = '',\n      avatar = photos.find(function (item) {\n    return item.id === cover;\n  });\n\n  if (avatar && avatar.id) {\n    avatarUrl = avatar.photoUrl;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Flex, null, __jsx(FlexLeft, null, !!photos.length && __jsx(React.Fragment, null, __jsx(WrapLine, {\n    mt: 50,\n    mb: 15\n  }, __jsx(LeftText, null, \"Cover photo\"), __jsx(RightText, {\n    onClick: function onClick() {\n      return setStep(3);\n    }\n  }, \"Change\")), __jsx(CoverPhotoPreview, {\n    src: avatar && avatar.preview ? avatar.preview : modifySrc(avatarUrl, typeDefaultCover ? typeDefaultCover : 'offer')\n  })), __jsx(UploadBtn, {\n    Btn: __jsx(Button, {\n      blue: true,\n      inline: true,\n      disabled: uploading\n    }, uploading ? 'uploading' : 'Add more photos'),\n    onDropFiles: preonDrop,\n    multiple: true\n  })), __jsx(FlexRight, null, __jsx(WrapLine, {\n    mt: 50,\n    mb: 15\n  }, !!photos.length && __jsx(FlexBlock, {\n    verticalcenter: true\n  }, __jsx(Text, {\n    fz: 20\n  }, \"Photos\", __jsx(\"span\", {\n    className: 'tip-photo-edit'\n  }, \"(click to edit)\")), !isHiddenDeleting && __jsx(\"div\", {\n    className: \"edit-photo-delete-item\"\n  }, isDeletingAll ? __jsx(\"span\", null, \"deleting...\") : __jsx(\"span\", {\n    onClick: function onClick() {\n      return handleDeleteAll();\n    }\n  }, \"delete all photos\")))), __jsx(Box, null, __jsx(Row, null, photos.map(function (item, key) {\n    return __jsx(Column, {\n      xs: 6,\n      key: key\n    }, __jsx(PhotoItem, {\n      src: item.preview ? item.preview : modifySrc(item.photoUrl),\n      onClick: function onClick() {\n        return setEditablePhoto(item, key);\n      }\n    }));\n  }))))));\n};\n\nexport default Photos;\nvar FlexLeft = styled.div(_templateObject());\nvar FlexRight = styled.div(_templateObject2());\nvar Flex = styled.div(_templateObject3(), device.laptopDesktop, FlexLeft, FlexRight);\nvar Box = styled.div(_templateObject4(), device.laptopDesktop, Column);","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/photos/Photos.js"],"names":["React","useState","useContext","Link","sortable","moment","MainContext","MainConsumer","styled","css","device","WrapLine","LeftText","RightText","Button","CoverPhotoPreview","PhotoItem","EditPhoto","Footer","Container","Row","Column","UploadBtn","Text","FlexBlock","ButtonWithIcon","modifySrc","Photos","photos","cover","onDrop","setEditablePhoto","setStep","typeDefaultCover","handleDeleteAll","isDeletingAll","isHiddenDeleting","uploading","preonDrop","files","avatarUrl","avatar","find","item","id","photoUrl","length","preview","map","key","FlexLeft","div","FlexRight","Flex","laptopDesktop","Box"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Link from \"next/link\";\r\nimport { sortable } from 'react-sortable';\r\nimport moment from \"moment/moment\";\r\nimport { MainContext, MainConsumer } from \"../../contextProviders/MainContext\"\r\nimport styled, { css } from 'styled-components'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport {WrapLine, LeftText, RightText} from './styled'\r\nimport {Button} from \"../../controls/Button/Button\";\r\nimport {CoverPhotoPreview, PhotoItem} from '../../Photo/Photo'\r\nimport EditPhoto from '../../Photo/EditPhoto'\r\nimport {Footer} from \"../../Layouts/styledLayouts\";\r\nimport {Container, Row, Column} from '../../StyledComponents/Grid'\r\nimport UploadBtn from '../../controls/Upload/UploadBtn'\r\nimport {Text} from \"../../StyledComponents/Text\";\r\nimport {FlexBlock} from \"../../StyledComponents/FlexBlock\";\r\n\r\nimport './photo.css'\r\nimport {ButtonWithIcon} from \"../../controls/Button/ButtonWithIcon\";\r\nimport {modifySrc} from \"../../../utils/modifySrc\";\r\n\r\n\r\nconst Photos = ({photos, cover, onDrop, setEditablePhoto, setStep, typeDefaultCover, handleDeleteAll, isDeletingAll, isHiddenDeleting, uploading}) => {\r\n    const preonDrop = (files) => {\r\n        onDrop(files)\r\n    }\r\n    let avatarUrl = '',\r\n        avatar = photos.find(item => item.id === cover);\r\n    if(avatar && avatar.id) {\r\n        avatarUrl = avatar.photoUrl\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Flex>\r\n                <FlexLeft>\r\n                    {!!photos.length &&\r\n                    <>\r\n                        <WrapLine mt={50} mb={15}>\r\n                            <LeftText>Cover photo</LeftText>\r\n                            <RightText onClick={() => setStep(3)}>Change</RightText>\r\n                        </WrapLine>\r\n\r\n                        <CoverPhotoPreview src={(avatar && avatar.preview) ? avatar.preview : modifySrc(avatarUrl, typeDefaultCover ? typeDefaultCover : 'offer')}/>\r\n                    </>\r\n                    }\r\n\r\n                    <UploadBtn\r\n                        Btn={<Button blue inline disabled={uploading} >{uploading ? 'uploading' : 'Add more photos'}</Button>}\r\n                        onDropFiles={preonDrop}\r\n                        multiple={true}\r\n                    />\r\n                </FlexLeft>\r\n                <FlexRight>\r\n                    <WrapLine mt={50} mb={15} >\r\n                        {!!photos.length &&\r\n                        <FlexBlock verticalcenter>\r\n                            <Text fz={20}>\r\n                                Photos\r\n                                <span className={'tip-photo-edit'}>(click to edit)</span>\r\n                            </Text>\r\n\r\n                            {!isHiddenDeleting &&\r\n                            <div className='edit-photo-delete-item'>\r\n                                {isDeletingAll ?\r\n                                    <span>deleting...</span>\r\n                                    :\r\n                                    <span onClick={() => handleDeleteAll()}>delete all photos</span>\r\n\r\n                                }\r\n                            </div>\r\n                            }\r\n\r\n                        </FlexBlock>\r\n                        }\r\n                    </WrapLine>\r\n\r\n                    <Box>\r\n                        <Row>\r\n                            {photos.map((item, key) => {\r\n                                return (\r\n                                    <Column xs={6} key={key} >\r\n                                        <PhotoItem\r\n                                            src={item.preview ? item.preview : modifySrc(item.photoUrl)}\r\n                                            onClick={() => setEditablePhoto(item, key)}\r\n                                        />\r\n                                    </Column>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Box>\r\n\r\n                </FlexRight>\r\n            </Flex>\r\n\r\n            {/*<SortableList ref={(sortedList) => {this.sortedList = sortedList}} items={photos} onRemove={this.onRemove}/>*/}\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Photos;\r\n\r\nconst FlexLeft = styled.div``\r\nconst FlexRight = styled.div``\r\n\r\nconst Flex = styled.div`\r\n  @media ${device.laptopDesktop} {\r\n    display: flex;\r\n\r\n    ${FlexLeft} {\r\n      width: 30%;\r\n      padding-right: 20px;\r\n      \r\n      button {\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n\r\n    ${FlexRight} {\r\n      width: 70%;\r\n      padding-left: 20px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Box = styled.div`\r\n    @media ${device.laptopDesktop} {\r\n      ${Column} {\r\n        margin-bottom: 10px;\r\n        \r\n        > div {\r\n            border: 1px solid #dcdcdc;\r\n        }\r\n      }\r\n    }\r\n`\r\n"]},"metadata":{},"sourceType":"module"}