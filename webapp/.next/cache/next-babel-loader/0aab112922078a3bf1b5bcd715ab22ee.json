{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { apiGetOfferById } from \"../actions/api\";\nimport { MainContext } from \"../components/contextProviders/MainContext\";\n\nvar useOffer = function useOffer(offerId) {\n  var _useContext = useContext(MainContext),\n      offer = _useContext.offer,\n      setOffer = _useContext.setOffer;\n\n  useEffect(function () {\n    var getOfferInfo = function getOfferInfo() {\n      var res;\n      return _regeneratorRuntime.async(function getOfferInfo$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(apiGetOfferById(offerId));\n\n            case 2:\n              res = _context.sent;\n              setOffer(res.data);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    if (offer && offer.id && offer.id === offerId) {} else {\n      if (offerId) getOfferInfo();\n    }\n  }, [offerId]);\n  return offer;\n};\n\nexport default useOffer;","map":{"version":3,"sources":["D:/4/диплом/webapp/hooks/useOffer.js"],"names":["React","useState","useEffect","useContext","PropTypes","apiGetOfferById","MainContext","useOffer","offerId","offer","setOffer","getOfferInfo","res","data","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,QAAqD,OAArD;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAAQC,eAAR,QAA8B,gBAA9B;AACA,SAAQC,WAAR,QAA0B,4CAA1B;;AAGA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,OAAO,EAAI;AAAA,oBACEL,UAAU,CAACG,WAAD,CADZ;AAAA,MACjBG,KADiB,eACjBA,KADiB;AAAA,MACVC,QADU,eACVA,QADU;;AAIxBR,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMS,YAAY,GAAG,SAAfA,YAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACCN,eAAe,CAACG,OAAD,CADhB;;AAAA;AACXI,cAAAA,GADW;AAEjBF,cAAAA,QAAQ,CAACE,GAAG,CAACC,IAAL,CAAR;;AAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAArB;;AAIA,QAAGJ,KAAK,IAAIA,KAAK,CAACK,EAAf,IAAqBL,KAAK,CAACK,EAAN,KAAaN,OAArC,EAA8C,CAE7C,CAFD,MAEO;AACH,UAAGA,OAAH,EAAYG,YAAY;AAC3B;AACJ,GAVQ,EAUN,CAACH,OAAD,CAVM,CAAT;AAYA,SAAOC,KAAP;AACH,CAjBD;;AAmBA,eAAeF,QAAf","sourcesContent":["import React, {useState, useEffect, useContext} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {apiGetOfferById} from \"../actions/api\";\r\nimport {MainContext} from \"../components/contextProviders/MainContext\";\r\n\r\n\r\nconst useOffer = offerId => {\r\n    const {offer, setOffer} = useContext(MainContext)\r\n\r\n\r\n    useEffect(() => {\r\n        const getOfferInfo = async () => {\r\n            const res = await apiGetOfferById(offerId)\r\n            setOffer(res.data)\r\n        }\r\n        if(offer && offer.id && offer.id === offerId) {\r\n\r\n        } else {\r\n            if(offerId) getOfferInfo()\r\n        }\r\n    }, [offerId]);\r\n\r\n    return offer;\r\n}\r\n\r\nexport default useOffer;"]},"metadata":{},"sourceType":"module"}