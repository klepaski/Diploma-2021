{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport { useAction, useAtom } from '@reatom/react';\nimport Link from 'next/link';\nimport styled, { css } from 'styled-components';\nimport { device } from '../../../lib/mediaDevice';\nimport OfferCardItem from '../../Offer/cards/OfferCardItem';\nimport { apiGetPopularCategories } from '../../../actions/api';\nimport { withReatom } from '../../../lib/withReatom';\nimport { offersAtom } from '../../../features/offers/atoms';\nimport { setListOffersAction } from '../../../features/offers/actions';\nimport { CardItemImgWrapper } from '../cards/styledCard';\n\nconst ListOffersHomepage = ({}) => {\n  // const [offers, setOffers] = useState([])\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: list,\n    1: setList\n  } = useState([]);\n  useEffect(() => {\n    let getList = async () => {\n      let res = await apiGetPopularCategories();\n      setList(res.data);\n      setLoading(false);\n    };\n\n    getList();\n  }, []);\n  if (loading) return __jsx(Wrapper, null, \"loading...\");\n  return __jsx(Wrapper, null, list.map((item, key) => {\n    if (!item.countOffers) return null;\n    return __jsx(Box, {\n      key: key\n    }, __jsx(TitleCategory, null, item.categories.category, __jsx(LinkBox, null, __jsx(Link, {\n      href: `/offers/categories?search=${item.categories.category}`\n    }, \"Show all\"))), __jsx(SubTitleCategory, null, \"Bring more joy to your events with circus artists, \", __jsx(\"br\", null), \"explore available offers.\"), __jsx(Flex, null, item.offers.map((offer, key2) => {\n      return __jsx(Col, {\n        key: key2,\n        is6: key > 2\n      }, __jsx(OfferCardItem, {\n        offer: offer\n      }));\n    })));\n  }));\n};\n\nconst Wrapper = styled.div``;\nconst Box = styled.div`\n  margin-bottom: 50px;\n`;\nconst Flex = styled.div`\n  display: flex;\n  //justify-content: space-between;\n  flex-wrap: wrap;\n  margin-top: 10px;\n  margin: 0 -10px;\n`;\nconst Col = styled.div`\n  width: 50%;\n  padding: 0 10px;\n\n  @media ${device.laptopDesktop} {\n    //width: 375px;\n    width: 32%;\n\n    ${CardItemImgWrapper} {\n      //height: calc(375px * 9 / 16 - 10px);\n      position: relative;\n      height: 0;\n      padding-top: 56.25%;\n    }\n\n    margin-bottom: 20px;\n    ${p => p.is6 && css`\n        width: 15%;\n        ${CardItemImgWrapper} {\n          // height: calc(180px * 9 / 16 - 10px);\n          position: relative;\n          height: 0;\n          padding-top: 56.25%;\n        }\n      `}\n  }\n`;\nconst TitleCategory = styled.div`\n  font-weight: 500;\n  font-size: 28px;\n  color: rgba(1, 1, 1, 0.7);\n  margin-bottom: 10px;\n`;\nconst SubTitleCategory = styled.div`\n  font-size: 14px;\n  line-height: 120%;\n  color: rgba(0, 0, 0, 0.8);\n`;\nconst LinkBox = styled.div`\n  text-align: right;\n  font-size: 13px;\n  a {\n    color: rgb(74, 74, 74);\n  }\n`;\nexport default withReatom(ListOffersHomepage);","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/list/ListOffersHomepage.js"],"names":["React","useState","useEffect","useAction","useAtom","Link","styled","css","device","OfferCardItem","apiGetPopularCategories","withReatom","offersAtom","setListOffersAction","CardItemImgWrapper","ListOffersHomepage","loading","setLoading","list","setList","getList","res","data","map","item","key","countOffers","categories","category","offers","offer","key2","Wrapper","div","Box","Flex","Col","laptopDesktop","p","is6","TitleCategory","SubTitleCategory","LinkBox"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,SAAT,EAAoBC,OAApB,QAAmC,eAAnC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AACA,SAASC,MAAT,QAAuB,0BAAvB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAASC,uBAAT,QAAwC,sBAAxC;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,UAAT,QAA2B,gCAA3B;AACA,SAASC,mBAAT,QAAoC,kCAApC;AACA,SAASC,kBAAT,QAAmC,qBAAnC;;AAEA,MAAMC,kBAAkB,GAAG,CAAC,EAAD,KAAQ;AACjC;AACA,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBhB,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACiB,IAAD;AAAA,OAAOC;AAAP,MAAkBlB,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIkB,OAAO,GAAG,YAAY;AACxB,UAAIC,GAAG,GAAG,MAAMX,uBAAuB,EAAvC;AACAS,MAAAA,OAAO,CAACE,GAAG,CAACC,IAAL,CAAP;AACAL,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJD;;AAMAG,IAAAA,OAAO;AACR,GARQ,EAQN,EARM,CAAT;AAUA,MAAIJ,OAAJ,EAAa,OAAO,MAAC,OAAD,qBAAP;AAEb,SACE,MAAC,OAAD,QACGE,IAAI,CAACK,GAAL,CAAS,CAACC,IAAD,EAAOC,GAAP,KAAe;AACvB,QAAI,CAACD,IAAI,CAACE,WAAV,EAAuB,OAAO,IAAP;AACvB,WACE,MAAC,GAAD;AAAK,MAAA,GAAG,EAAED;AAAV,OACE,MAAC,aAAD,QACGD,IAAI,CAACG,UAAL,CAAgBC,QADnB,EAEE,MAAC,OAAD,QACE,MAAC,IAAD;AAAM,MAAA,IAAI,EAAG,6BAA4BJ,IAAI,CAACG,UAAL,CAAgBC,QAAS;AAAlE,kBADF,CAFF,CADF,EAOE,MAAC,gBAAD,+DACqD,iBADrD,8BAPF,EAWE,MAAC,IAAD,QACGJ,IAAI,CAACK,MAAL,CAAYN,GAAZ,CAAgB,CAACO,KAAD,EAAQC,IAAR,KAAiB;AAChC,aACE,MAAC,GAAD;AAAK,QAAA,GAAG,EAAEA,IAAV;AAAgB,QAAA,GAAG,EAAEN,GAAG,GAAG;AAA3B,SACE,MAAC,aAAD;AAAe,QAAA,KAAK,EAAEK;AAAtB,QADF,CADF;AAKD,KANA,CADH,CAXF,CADF;AAuBD,GAzBA,CADH,CADF;AAkDD,CAnED;;AAqEA,MAAME,OAAO,GAAG1B,MAAM,CAAC2B,GAAI,EAA3B;AACA,MAAMC,GAAG,GAAG5B,MAAM,CAAC2B,GAAI;;CAAvB;AAGA,MAAME,IAAI,GAAG7B,MAAM,CAAC2B,GAAI;;;;;;CAAxB;AAOA,MAAMG,GAAG,GAAG9B,MAAM,CAAC2B,GAAI;;;;WAIZzB,MAAM,CAAC6B,aAAc;;;;MAI1BvB,kBAAmB;;;;;;;;MAQlBwB,CAAD,IACAA,CAAC,CAACC,GAAF,IACAhC,GAAI;;UAEAO,kBAAmB;;;;;;OAMrB;;CA1BR;AA8BA,MAAM0B,aAAa,GAAGlC,MAAM,CAAC2B,GAAI;;;;;CAAjC;AAMA,MAAMQ,gBAAgB,GAAGnC,MAAM,CAAC2B,GAAI;;;;CAApC;AAKA,MAAMS,OAAO,GAAGpC,MAAM,CAAC2B,GAAI;;;;;;CAA3B;AAQA,eAAetB,UAAU,CAACI,kBAAD,CAAzB","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useAction, useAtom } from '@reatom/react'\r\nimport Link from 'next/link'\r\nimport styled, { css } from 'styled-components'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport OfferCardItem from '../../Offer/cards/OfferCardItem'\r\nimport { apiGetPopularCategories } from '../../../actions/api'\r\nimport { withReatom } from '../../../lib/withReatom'\r\nimport { offersAtom } from '../../../features/offers/atoms'\r\nimport { setListOffersAction } from '../../../features/offers/actions'\r\nimport { CardItemImgWrapper } from '../cards/styledCard'\r\n\r\nconst ListOffersHomepage = ({}) => {\r\n  // const [offers, setOffers] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [list, setList] = useState([])\r\n\r\n  useEffect(() => {\r\n    let getList = async () => {\r\n      let res = await apiGetPopularCategories()\r\n      setList(res.data)\r\n      setLoading(false)\r\n    }\r\n\r\n    getList()\r\n  }, [])\r\n\r\n  if (loading) return <Wrapper>loading...</Wrapper>\r\n\r\n  return (\r\n    <Wrapper>\r\n      {list.map((item, key) => {\r\n        if (!item.countOffers) return null\r\n        return (\r\n          <Box key={key}>\r\n            <TitleCategory>\r\n              {item.categories.category}\r\n              <LinkBox>\r\n                <Link href={`/offers/categories?search=${item.categories.category}`}>Show all</Link>\r\n              </LinkBox>\r\n            </TitleCategory>\r\n            <SubTitleCategory>\r\n              Bring more joy to your events with circus artists, <br />\r\n              explore available offers.\r\n            </SubTitleCategory>\r\n            <Flex>\r\n              {item.offers.map((offer, key2) => {\r\n                return (\r\n                  <Col key={key2} is6={key > 2}>\r\n                    <OfferCardItem offer={offer} />\r\n                  </Col>\r\n                )\r\n              })}\r\n            </Flex>\r\n          </Box>\r\n        )\r\n      })}\r\n\r\n      {/*<Box>*/}\r\n      {/*  <TitleCategory>{item.categories.category}</TitleCategory>*/}\r\n      {/*  <SubTitleCategory>*/}\r\n      {/*    Bring more joy to your events with circus artists, <br />*/}\r\n      {/*    explore available offers.*/}\r\n      {/*  </SubTitleCategory>*/}\r\n      {/*  <Flex>*/}\r\n      {/*    {item.offers.map((offer, key) => {*/}\r\n      {/*      return (*/}\r\n      {/*        <Col key={key}>*/}\r\n      {/*          <OfferCardItem offer={offer} />*/}\r\n      {/*        </Col>*/}\r\n      {/*      )*/}\r\n      {/*    })}*/}\r\n      {/*  </Flex>*/}\r\n      {/*  <LinkBox>*/}\r\n      {/*    <Link href={`/offers/categories?category=first-category`}>Show all</Link>*/}\r\n      {/*  </LinkBox>*/}\r\n      {/*</Box>*/}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div``\r\nconst Box = styled.div`\r\n  margin-bottom: 50px;\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  //justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n  margin: 0 -10px;\r\n`\r\nconst Col = styled.div`\r\n  width: 50%;\r\n  padding: 0 10px;\r\n\r\n  @media ${device.laptopDesktop} {\r\n    //width: 375px;\r\n    width: 32%;\r\n\r\n    ${CardItemImgWrapper} {\r\n      //height: calc(375px * 9 / 16 - 10px);\r\n      position: relative;\r\n      height: 0;\r\n      padding-top: 56.25%;\r\n    }\r\n\r\n    margin-bottom: 20px;\r\n    ${(p) =>\r\n      p.is6 &&\r\n      css`\r\n        width: 15%;\r\n        ${CardItemImgWrapper} {\r\n          // height: calc(180px * 9 / 16 - 10px);\r\n          position: relative;\r\n          height: 0;\r\n          padding-top: 56.25%;\r\n        }\r\n      `}\r\n  }\r\n`\r\n\r\nconst TitleCategory = styled.div`\r\n  font-weight: 500;\r\n  font-size: 28px;\r\n  color: rgba(1, 1, 1, 0.7);\r\n  margin-bottom: 10px;\r\n`\r\nconst SubTitleCategory = styled.div`\r\n  font-size: 14px;\r\n  line-height: 120%;\r\n  color: rgba(0, 0, 0, 0.8);\r\n`\r\nconst LinkBox = styled.div`\r\n  text-align: right;\r\n  font-size: 13px;\r\n  a {\r\n    color: rgb(74, 74, 74);\r\n  }\r\n`\r\n\r\nexport default withReatom(ListOffersHomepage)\r\n"]},"metadata":{},"sourceType":"module"}