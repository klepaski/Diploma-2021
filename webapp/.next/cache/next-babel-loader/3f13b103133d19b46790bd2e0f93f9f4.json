{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { useAction, useAtom } from \"@reatom/react\";\nimport OfferCardItem from \"../../Offer/cards/OfferCardItem\";\nimport { apiGetListOffers } from \"../../../actions/api\";\nimport { withReatom } from \"../../../lib/withReatom\";\nimport { offersAtom } from \"../../../features/offers/atoms\";\nimport { setListOffersAction } from \"../../../features/offers/actions\";\n\nconst ListPopularOffers = ({}) => {\n  // const [offers, setOffers] = useState([])\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  let offers = useAtom(offersAtom);\n  const setOffers = useAction(data => setListOffersAction(data));\n  useEffect(() => {\n    let getList = async () => {\n      setLoading(true);\n      let res = await apiGetListOffers();\n      setOffers(res.data);\n      setLoading(false);\n    };\n\n    if (!offers.length) {\n      getList();\n    }\n  }, []);\n  return __jsx(\"div\", {\n    className: \"row\"\n  }, loading ? __jsx(React.Fragment, null, \"Loading...\") : __jsx(React.Fragment, null, offers.map((item, key) => {\n    return __jsx(\"div\", {\n      key: key,\n      className: \"col-xs-6\"\n    }, __jsx(OfferCardItem, {\n      offer: item\n    }));\n  })));\n};\n\nexport default withReatom(ListPopularOffers);","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Offer/list/ListPopularOffers.js"],"names":["React","useState","useEffect","useAction","useAtom","OfferCardItem","apiGetListOffers","withReatom","offersAtom","setListOffersAction","ListPopularOffers","loading","setLoading","offers","setOffers","data","getList","res","length","map","item","key"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,SAAR,EAAmBC,OAAnB,QAAiC,eAAjC;AAEA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,SAAQC,gBAAR,QAA+B,sBAA/B;AACA,SAAQC,UAAR,QAAyB,yBAAzB;AACA,SAAQC,UAAR,QAAyB,gCAAzB;AACA,SAAQC,mBAAR,QAAkC,kCAAlC;;AAGA,MAAMC,iBAAiB,GAAG,CAAC,EAAD,KAAQ;AAC9B;AACA,QAAM;AAAA,OAACC,OAAD;AAAA,OAAUC;AAAV,MAAwBX,QAAQ,CAAC,KAAD,CAAtC;AACA,MAAIY,MAAM,GAAGT,OAAO,CAACI,UAAD,CAApB;AACA,QAAMM,SAAS,GAAGX,SAAS,CAAGY,IAAD,IAAUN,mBAAmB,CAACM,IAAD,CAA/B,CAA3B;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIc,OAAO,GAAG,YAAY;AACtBJ,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,UAAIK,GAAG,GAAG,MAAMX,gBAAgB,EAAhC;AACAQ,MAAAA,SAAS,CAACG,GAAG,CAACF,IAAL,CAAT;AACAH,MAAAA,UAAU,CAAC,KAAD,CAAV;AACH,KALD;;AAMA,QAAG,CAACC,MAAM,CAACK,MAAX,EAAmB;AACfF,MAAAA,OAAO;AACV;AACJ,GAVQ,EAUN,EAVM,CAAT;AAaA,SACI;AAAK,IAAA,SAAS,EAAC;AAAf,KACKL,OAAO,GACJ,yCADI,GAGJ,4BACKE,MAAM,CAACM,GAAP,CAAW,CAACC,IAAD,EAAOC,GAAP,KAAe;AACvB,WACI;AAAK,MAAA,GAAG,EAAEA,GAAV;AAAe,MAAA,SAAS,EAAC;AAAzB,OACI,MAAC,aAAD;AAAe,MAAA,KAAK,EAAED;AAAtB,MADJ,CADJ;AAKH,GANA,CADL,CAJR,CADJ;AAiBH,CApCD;;AAsCA,eAAeb,UAAU,CAACG,iBAAD,CAAzB","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport {useAction, useAtom} from \"@reatom/react\";\r\n\r\nimport OfferCardItem from \"../../Offer/cards/OfferCardItem\";\r\nimport {apiGetListOffers} from \"../../../actions/api\"\r\nimport {withReatom} from \"../../../lib/withReatom\";\r\nimport {offersAtom} from \"../../../features/offers/atoms\";\r\nimport {setListOffersAction} from \"../../../features/offers/actions\";\r\n\r\n\r\nconst ListPopularOffers = ({}) => {\r\n    // const [offers, setOffers] = useState([])\r\n    const [loading, setLoading] = useState(false)\r\n    let offers = useAtom(offersAtom)\r\n    const setOffers = useAction( (data) => setListOffersAction(data) )\r\n\r\n    useEffect(() => {\r\n        let getList = async () => {\r\n            setLoading(true)\r\n            let res = await apiGetListOffers()\r\n            setOffers(res.data)\r\n            setLoading(false)\r\n        }\r\n        if(!offers.length) {\r\n            getList()\r\n        }\r\n    }, [])\r\n\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            {loading?\r\n                <>Loading...</>\r\n                :\r\n                <>\r\n                    {offers.map((item, key) => {\r\n                        return (\r\n                            <div key={key} className=\"col-xs-6\">\r\n                                <OfferCardItem offer={item} />\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default withReatom(ListPopularOffers)"]},"metadata":{},"sourceType":"module"}