{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport ImageGallery from 'react-image-gallery';\nimport styled from \"styled-components\";\nimport { ButtonWithIcon } from '../controls/Button/ButtonWithIcon';\nimport galleryBg from \"../../static/img/gallery-bg.jpg\";\nimport { modifySrc } from \"../../utils/modifySrc\";\nimport \"react-image-gallery/styles/css/image-gallery.css\";\nconst GalleryWrapper = styled.div`\n  height: 40vh;\n  background: url(${props => props.src}) no-repeat;\n  background-size: cover;\n  padding: 15px 15px 20px 15px;\n`;\n\nconst GalleryOffer = ({\n  offer\n}) => {\n  const {\n    avatarUrl,\n    offerPhoto,\n    status\n  } = offer;\n  const {\n    0: active,\n    1: setActive\n  } = useState(0);\n  const {\n    0: arrayPhotos,\n    1: setArrayPhotos\n  } = useState([]);\n  useEffect(() => {\n    let filteredPhoto = offerPhoto.filter(item => item.photoUrl !== avatarUrl);\n    let photos = [{\n      photoUrl: avatarUrl\n    }, ...filteredPhoto];\n    let images = photos.map(item => {\n      return {\n        original: modifySrc(item.photoUrl, 'offer')\n      };\n    });\n    setArrayPhotos(images); // preloadImages(filteredPhoto)\n  }, [offer.id]); // const preloadImages = (images) => {\n  //     images.map((item) => {\n  //         var img = new Image();\n  //         img.src = modifySrc(item.photoUrl);\n  //     })\n  // }\n\n  return __jsx(\"div\", null, __jsx(ImageGallery, {\n    items: arrayPhotos,\n    showThumbnails: false,\n    showPlayButton: false\n  }));\n};\n\nexport { GalleryOffer };","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Gallery/GalleryOffer.js"],"names":["React","useState","useEffect","ImageGallery","styled","ButtonWithIcon","galleryBg","modifySrc","GalleryWrapper","div","props","src","GalleryOffer","offer","avatarUrl","offerPhoto","status","active","setActive","arrayPhotos","setArrayPhotos","filteredPhoto","filter","item","photoUrl","photos","images","map","original","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAAQC,cAAR,QAA6B,mCAA7B;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAAQC,SAAR,QAAwB,uBAAxB;AACA,OAAO,kDAAP;AAEA,MAAMC,cAAc,GAAGJ,MAAM,CAACK,GAAI;;oBAEdC,KAAK,IAAIA,KAAK,CAACC,GAAI;;;CAFvC;;AAOA,MAAMC,YAAY,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAa;AAC9B,QAAM;AAACC,IAAAA,SAAD;AAAYC,IAAAA,UAAZ;AAAwBC,IAAAA;AAAxB,MAAkCH,KAAxC;AACA,QAAM;AAAA,OAACI,MAAD;AAAA,OAASC;AAAT,MAAsBjB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM;AAAA,OAACkB,WAAD;AAAA,OAAcC;AAAd,MAAgCnB,QAAQ,CAAC,EAAD,CAA9C;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAImB,aAAa,GAAGN,UAAU,CAACO,MAAX,CAAkBC,IAAI,IAAIA,IAAI,CAACC,QAAL,KAAkBV,SAA5C,CAApB;AACA,QAAIW,MAAM,GAAG,CAAC;AAACD,MAAAA,QAAQ,EAAEV;AAAX,KAAD,EAAwB,GAAGO,aAA3B,CAAb;AACA,QAAIK,MAAM,GAAGD,MAAM,CAACE,GAAP,CAAWJ,IAAI,IAAI;AAC5B,aACI;AAACK,QAAAA,QAAQ,EAAErB,SAAS,CAACgB,IAAI,CAACC,QAAN,EAAgB,OAAhB;AAApB,OADJ;AAGH,KAJY,CAAb;AAKAJ,IAAAA,cAAc,CAACM,MAAD,CAAd,CARY,CASZ;AACH,GAVQ,EAUP,CAACb,KAAK,CAACgB,EAAP,CAVO,CAAT,CAL8B,CAkB9B;AACA;AACA;AACA;AACA;AACA;;AAEA,SACI,mBACI,MAAC,YAAD;AACI,IAAA,KAAK,EAAEV,WADX;AAEI,IAAA,cAAc,EAAE,KAFpB;AAGI,IAAA,cAAc,EAAE;AAHpB,IADJ,CADJ;AASH,CAlCD;;AAqCA,SAAQP,YAAR","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport styled from \"styled-components\";\r\n\r\nimport {ButtonWithIcon} from '../controls/Button/ButtonWithIcon'\r\nimport galleryBg from \"../../static/img/gallery-bg.jpg\";\r\nimport {modifySrc} from \"../../utils/modifySrc\";\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\nconst GalleryWrapper = styled.div`\r\n  height: 40vh;\r\n  background: url(${props => props.src}) no-repeat;\r\n  background-size: cover;\r\n  padding: 15px 15px 20px 15px;\r\n`;\r\n\r\nconst GalleryOffer = ({offer}) => {\r\n    const {avatarUrl, offerPhoto, status} = offer\r\n    const [active, setActive] = useState(0)\r\n    const [arrayPhotos, setArrayPhotos] = useState([])\r\n\r\n    useEffect(() => {\r\n        let filteredPhoto = offerPhoto.filter(item => item.photoUrl !== avatarUrl)\r\n        let photos = [{photoUrl: avatarUrl}, ...filteredPhoto];\r\n        let images = photos.map(item => {\r\n            return (\r\n                {original: modifySrc(item.photoUrl, 'offer')}\r\n            )\r\n        })\r\n        setArrayPhotos(images)\r\n        // preloadImages(filteredPhoto)\r\n    },[offer.id])\r\n\r\n\r\n    // const preloadImages = (images) => {\r\n    //     images.map((item) => {\r\n    //         var img = new Image();\r\n    //         img.src = modifySrc(item.photoUrl);\r\n    //     })\r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            <ImageGallery\r\n                items={arrayPhotos}\r\n                showThumbnails={false}\r\n                showPlayButton={false}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport {GalleryOffer};"]},"metadata":{},"sourceType":"module"}