{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  height: 40vh;\\n  background: url(\", \") no-repeat;\\n  background-size: cover;\\n  padding: 15px 15px 20px 15px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport ImageGallery from 'react-image-gallery';\nimport styled from \"styled-components\";\nimport { ButtonWithIcon } from '../controls/Button/ButtonWithIcon';\nimport galleryBg from \"../../static/img/gallery-bg.jpg\";\nimport { modifySrc } from \"../../utils/modifySrc\";\nimport \"react-image-gallery/styles/css/image-gallery.css\";\nvar GalleryWrapper = styled.div(_templateObject(), function (props) {\n  return props.src;\n});\n\nvar GalleryOffer = function GalleryOffer(_ref) {\n  var offer = _ref.offer;\n  var avatarUrl = offer.avatarUrl,\n      offerPhoto = offer.offerPhoto,\n      status = offer.status;\n\n  var _useState = useState(0),\n      active = _useState[0],\n      setActive = _useState[1];\n\n  var _useState2 = useState([]),\n      arrayPhotos = _useState2[0],\n      setArrayPhotos = _useState2[1];\n\n  useEffect(function () {\n    var filteredPhoto = offerPhoto.filter(function (item) {\n      return item.photoUrl !== avatarUrl;\n    });\n    var photos = [{\n      photoUrl: avatarUrl\n    }].concat(_toConsumableArray(filteredPhoto));\n    var images = photos.map(function (item) {\n      return {\n        original: modifySrc(item.photoUrl, 'offer')\n      };\n    });\n    setArrayPhotos(images); // preloadImages(filteredPhoto)\n  }, [offer.id]); // const preloadImages = (images) => {\n  //     images.map((item) => {\n  //         var img = new Image();\n  //         img.src = modifySrc(item.photoUrl);\n  //     })\n  // }\n\n  return __jsx(\"div\", null, __jsx(ImageGallery, {\n    items: arrayPhotos,\n    showThumbnails: false,\n    showPlayButton: false\n  }));\n};\n\nexport { GalleryOffer };","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Gallery/GalleryOffer.js"],"names":["React","useState","useEffect","ImageGallery","styled","ButtonWithIcon","galleryBg","modifySrc","GalleryWrapper","div","props","src","GalleryOffer","offer","avatarUrl","offerPhoto","status","active","setActive","arrayPhotos","setArrayPhotos","filteredPhoto","filter","item","photoUrl","photos","images","map","original","id"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AAEA,SAAQC,cAAR,QAA6B,mCAA7B;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,SAAQC,SAAR,QAAwB,uBAAxB;AACA,OAAO,kDAAP;AAEA,IAAMC,cAAc,GAAGJ,MAAM,CAACK,GAAV,oBAEA,UAAAC,KAAK;AAAA,SAAIA,KAAK,CAACC,GAAV;AAAA,CAFL,CAApB;;AAOA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAa;AAAA,MAAXC,KAAW,QAAXA,KAAW;AAAA,MACvBC,SADuB,GACUD,KADV,CACvBC,SADuB;AAAA,MACZC,UADY,GACUF,KADV,CACZE,UADY;AAAA,MACAC,MADA,GACUH,KADV,CACAG,MADA;;AAAA,kBAEFf,QAAQ,CAAC,CAAD,CAFN;AAAA,MAEvBgB,MAFuB;AAAA,MAEfC,SAFe;;AAAA,mBAGQjB,QAAQ,CAAC,EAAD,CAHhB;AAAA,MAGvBkB,WAHuB;AAAA,MAGVC,cAHU;;AAK9BlB,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAImB,aAAa,GAAGN,UAAU,CAACO,MAAX,CAAkB,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,QAAL,KAAkBV,SAAtB;AAAA,KAAtB,CAApB;AACA,QAAIW,MAAM,IAAI;AAACD,MAAAA,QAAQ,EAAEV;AAAX,KAAJ,4BAA8BO,aAA9B,EAAV;AACA,QAAIK,MAAM,GAAGD,MAAM,CAACE,GAAP,CAAW,UAAAJ,IAAI,EAAI;AAC5B,aACI;AAACK,QAAAA,QAAQ,EAAErB,SAAS,CAACgB,IAAI,CAACC,QAAN,EAAgB,OAAhB;AAApB,OADJ;AAGH,KAJY,CAAb;AAKAJ,IAAAA,cAAc,CAACM,MAAD,CAAd,CARY,CASZ;AACH,GAVQ,EAUP,CAACb,KAAK,CAACgB,EAAP,CAVO,CAAT,CAL8B,CAkB9B;AACA;AACA;AACA;AACA;AACA;;AAEA,SACI,mBACI,MAAC,YAAD;AACI,IAAA,KAAK,EAAEV,WADX;AAEI,IAAA,cAAc,EAAE,KAFpB;AAGI,IAAA,cAAc,EAAE;AAHpB,IADJ,CADJ;AASH,CAlCD;;AAqCA,SAAQP,YAAR","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport ImageGallery from 'react-image-gallery';\r\nimport styled from \"styled-components\";\r\n\r\nimport {ButtonWithIcon} from '../controls/Button/ButtonWithIcon'\r\nimport galleryBg from \"../../static/img/gallery-bg.jpg\";\r\nimport {modifySrc} from \"../../utils/modifySrc\";\r\nimport \"react-image-gallery/styles/css/image-gallery.css\";\r\n\r\nconst GalleryWrapper = styled.div`\r\n  height: 40vh;\r\n  background: url(${props => props.src}) no-repeat;\r\n  background-size: cover;\r\n  padding: 15px 15px 20px 15px;\r\n`;\r\n\r\nconst GalleryOffer = ({offer}) => {\r\n    const {avatarUrl, offerPhoto, status} = offer\r\n    const [active, setActive] = useState(0)\r\n    const [arrayPhotos, setArrayPhotos] = useState([])\r\n\r\n    useEffect(() => {\r\n        let filteredPhoto = offerPhoto.filter(item => item.photoUrl !== avatarUrl)\r\n        let photos = [{photoUrl: avatarUrl}, ...filteredPhoto];\r\n        let images = photos.map(item => {\r\n            return (\r\n                {original: modifySrc(item.photoUrl, 'offer')}\r\n            )\r\n        })\r\n        setArrayPhotos(images)\r\n        // preloadImages(filteredPhoto)\r\n    },[offer.id])\r\n\r\n\r\n    // const preloadImages = (images) => {\r\n    //     images.map((item) => {\r\n    //         var img = new Image();\r\n    //         img.src = modifySrc(item.photoUrl);\r\n    //     })\r\n    // }\r\n\r\n    return (\r\n        <div>\r\n            <ImageGallery\r\n                items={arrayPhotos}\r\n                showThumbnails={false}\r\n                showPlayButton={false}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport {GalleryOffer};"]},"metadata":{},"sourceType":"module"}