{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 24px;\\n  margin-bottom: 50px;\\n  margin-top: 20px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { Footer, Label2 } from '../../components/Layouts/styledLayouts';\nimport { Wrapper, WrapperHeight } from '../../components/StyledComponents/Wrapper';\nimport { Button } from '../../components/controls/Button/Button';\nimport Header from '../../components/Header/Header';\nimport Select from '../../components/controls/Select/Select';\nimport { Input } from '../../components/controls/Input/Input';\nimport DatePicker from '../../components/controls/DateTimePickers/Datepicker';\nimport { listCountries } from '../../utils/countriesLanguages';\nimport { apiGetListOffers } from '../../actions/api';\nimport ListOffers from '../../components/Offer/list/ListOffers';\nimport { MainContext } from '../../components/contextProviders/MainContext';\nimport { urlSearchParams } from '../../utils/utils';\nimport SearchBlock from '../../components/Offer/search/SearchBlock';\nimport { WrapSearchParams, SearchParamsWrapItem, SearchParamsLabel, SearchParamsValue } from '../../components/StyledComponents/styledComponents';\nimport { Text } from '../../components/StyledComponents/Text';\nimport { Divider } from '../../components/StyledComponents/Divider';\nimport { ContainerDesktop } from '../../components/StyledComponents/Grid';\n\nvar Categories = function Categories() {\n  var _urlSearchParams = urlSearchParams(),\n      search = _urlSearchParams.search,\n      last = _urlSearchParams.last,\n      type = _urlSearchParams.type;\n\n  var _useContext = useContext(MainContext),\n      listOffers = _useContext.listOffers;\n\n  var _useState = useState(listOffers),\n      list = _useState[0],\n      setList = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  useEffect(function () {\n    getListOffers();\n  }, [search]);\n\n  var getListOffers = function getListOffers() {\n    var params = {\n      search: search,\n      last: last,\n      type: type\n    };\n    setLoading(true);\n    apiGetListOffers(params).then(function (res) {\n      setList(res.data);\n      setLoading(false);\n    })[\"catch\"](function (e) {\n      setLoading(false);\n    });\n  };\n\n  var title = '';\n  if (last) title = 'Recently added';\n  if (search) title = \"Category: \".concat(search.charAt(0).toUpperCase() + search.slice(1));\n  if (type) title = \"For: \".concat(type.charAt(0).toUpperCase() + type.slice(1));\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    isProfile: true\n  }), __jsx(ContainerDesktop, null, __jsx(Wrapper, {\n    p: 15\n  }, __jsx(Title, null, title), loading && __jsx(\"div\", null, \"Loading... \"), list.length ? __jsx(ListOffers, {\n    offers: list\n  }) : __jsx(\"div\", null, !loading && __jsx(\"div\", null, \"No results\")))));\n};\n\nvar Title = styled.div(_templateObject());\nexport default Categories;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/pages/offers/categories.js"],"names":["React","useState","useContext","useEffect","moment","styled","Footer","Label2","Wrapper","WrapperHeight","Button","Header","Select","Input","DatePicker","listCountries","apiGetListOffers","ListOffers","MainContext","urlSearchParams","SearchBlock","WrapSearchParams","SearchParamsWrapItem","SearchParamsLabel","SearchParamsValue","Text","Divider","ContainerDesktop","Categories","search","last","type","listOffers","list","setList","loading","setLoading","getListOffers","params","then","res","data","e","title","charAt","toUpperCase","slice","length","Title","div"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport moment from 'moment'\r\nimport styled from 'styled-components'\r\nimport { Footer, Label2 } from '../../components/Layouts/styledLayouts'\r\nimport { Wrapper, WrapperHeight } from '../../components/StyledComponents/Wrapper'\r\nimport { Button } from '../../components/controls/Button/Button'\r\nimport Header from '../../components/Header/Header'\r\nimport Select from '../../components/controls/Select/Select'\r\nimport { Input } from '../../components/controls/Input/Input'\r\nimport DatePicker from '../../components/controls/DateTimePickers/Datepicker'\r\nimport { listCountries } from '../../utils/countriesLanguages'\r\nimport { apiGetListOffers } from '../../actions/api'\r\nimport ListOffers from '../../components/Offer/list/ListOffers'\r\nimport { MainContext } from '../../components/contextProviders/MainContext'\r\nimport { urlSearchParams } from '../../utils/utils'\r\nimport SearchBlock from '../../components/Offer/search/SearchBlock'\r\nimport {\r\n  WrapSearchParams,\r\n  SearchParamsWrapItem,\r\n  SearchParamsLabel,\r\n  SearchParamsValue,\r\n} from '../../components/StyledComponents/styledComponents'\r\nimport { Text } from '../../components/StyledComponents/Text'\r\nimport { Divider } from '../../components/StyledComponents/Divider'\r\nimport { ContainerDesktop } from '../../components/StyledComponents/Grid'\r\n\r\nconst Categories = () => {\r\n  let { search, last, type } = urlSearchParams()\r\n  const { listOffers } = useContext(MainContext)\r\n  const [list, setList] = useState(listOffers)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  useEffect(() => {\r\n    getListOffers()\r\n  }, [search])\r\n\r\n  const getListOffers = () => {\r\n    let params = {\r\n      search: search,\r\n      last: last,\r\n      type: type\r\n    }\r\n    setLoading(true)\r\n    apiGetListOffers(params)\r\n      .then((res) => {\r\n        setList(res.data)\r\n        setLoading(false)\r\n      })\r\n      .catch((e) => {\r\n        setLoading(false)\r\n      })\r\n  }\r\n\r\n  let title = ''\r\n  if(last) title = 'Recently added'\r\n  if(search) title = `Category: ${search.charAt(0).toUpperCase() + search.slice(1)}`\r\n  if(type) title = `For: ${type.charAt(0).toUpperCase() + type.slice(1)}`\r\n\r\n  return (\r\n    <>\r\n      <Header isProfile />\r\n      <ContainerDesktop>\r\n        <Wrapper p={15}>\r\n          <Title>{title}</Title>\r\n          {loading && <div>Loading... </div>}\r\n\r\n          {list.length ? (\r\n            <ListOffers offers={list} />\r\n          ) : (\r\n            <div>{!loading && <div>No results</div>}</div>\r\n          )}\r\n        </Wrapper>\r\n      </ContainerDesktop>\r\n    </>\r\n  )\r\n}\r\n\r\nconst Title = styled.div`\r\n  font-size: 24px;\r\n  margin-bottom: 50px;\r\n  margin-top: 20px;\r\n`\r\n\r\nexport default Categories\r\n"]},"metadata":{},"sourceType":"module"}