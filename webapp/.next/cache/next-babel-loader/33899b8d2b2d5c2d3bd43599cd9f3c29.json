{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n        margin-top: 0;\\n      \"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  @media \", \" {\\n    width: 400px;\\n    margin: 10% auto 0 auto;\\n\\n    \", \"\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  \", \" {\\n    width: 46px;\\n    cursor: pointer;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MainContext, MainConsumer } from '../components/contextProviders/MainContext';\nimport styled, { css } from 'styled-components';\nimport { device } from '../lib/mediaDevice';\nimport { Wrapper } from '../components/StyledComponents/Wrapper';\nimport { Button } from '../components/controls/Button/Button';\nimport { Divider } from '../components/StyledComponents/Divider';\nimport { Close, LogoGreen } from '../components/StyledComponents/Icon';\nimport { FlexBlock } from '../components/StyledComponents/FlexBlock';\nimport { Text, ServerError } from '../components/StyledComponents/Text';\nimport { Input } from '../components/controls/Input/Input';\nimport { CheckboxWithLabel } from '../components/controls/Checkbox/Checkbox';\nimport DatePicker from '../components/controls/DateTimePickers/Datepicker';\nimport validate from '../utils/validation';\nimport { hasError } from '../utils/utils';\nimport { showNotification } from '../utils/notification';\nimport { Router } from '../routes';\nimport { OnlyMobile, OnlyDesktop } from '../components/StyledComponents/Grid';\nimport { apiCreateUser } from '../actions/api';\n\nvar RegistrationPage = function RegistrationPage(_ref) {\n  var setView = _ref.setView;\n  var defaultUserData = {\n    email: '',\n    firstName: '',\n    lastName: '',\n    password: '',\n    birthday: null,\n    offerId: localStorage.getItem('ioid')\n  };\n\n  var _useState = useState(defaultUserData),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState({}),\n      errors = _useState2[0],\n      setErorrs = _useState2[1];\n\n  var _useState3 = useState(false),\n      checked = _useState3[0],\n      setCheck = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      serverError = _useState5[0],\n      setServerError = _useState5[1];\n\n  var _useState6 = useState('initial'),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  console.log('user', user);\n\n  var onChange = function onChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value,\n        required = _e$target.required;\n    if (name === 'email' || name === 'password') value = value.trim();\n    setUser(function (user) {\n      return _objectSpread({}, user, _defineProperty({}, name, value));\n    });\n    var error = validate(name, value, required);\n    setErorrs(function (errors) {\n      return _objectSpread({}, errors, _defineProperty({}, name, error));\n    });\n  };\n\n  var onChangeBirthday = function onChangeBirthday(birthday) {\n    setUser(function (user) {\n      return _objectSpread({}, user, {\n        birthday: birthday\n      });\n    });\n  };\n\n  var handleSubmit = function handleSubmit() {\n    setLoading(true);\n\n    var clone = _objectSpread({}, user, {\n      email: user.email.toLowerCase()\n    });\n\n    apiCreateUser(clone).then(function (res) {\n      showNotification('info', \"Check your mail \".concat(user.email, \" to activate account\"));\n      localStorage.removeItem('ioid');\n      Router.pushRoute('/login');\n    })[\"catch\"](function (err) {\n      setLoading(false);\n      showNotification('error', err);\n    });\n  };\n\n  var disabled = hasError(errors) || !user.email || !user.firstName || !user.lastName || !user.password;\n  return __jsx(React.Fragment, null, __jsx(LoginWrap, null, __jsx(Wrapper, {\n    p: 25\n  }, __jsx(OnlyMobile, null, __jsx(Wrapper, {\n    mb: 35\n  }, __jsx(Close, {\n    onClick: function onClick() {\n      return setView(false);\n    }\n  }))), __jsx(FormWrap, null, __jsx(Input, {\n    value: user.email,\n    name: 'email',\n    onChange: onChange,\n    error: errors.email,\n    placeholder: \"Email address\",\n    required: true,\n    mb: '5px',\n    fz: 15\n  }), __jsx(Input, {\n    value: user.firstName,\n    name: 'firstName',\n    onChange: onChange,\n    error: errors.firstName,\n    placeholder: \"First name\",\n    required: true,\n    mb: '5px',\n    fz: 15\n  }), __jsx(Input, {\n    value: user.lastName,\n    name: \"lastName\",\n    onChange: onChange,\n    error: errors.lastName,\n    placeholder: \"Last name\",\n    required: true,\n    fz: 15,\n    mb: '5px'\n  }), __jsx(Input, {\n    value: user.password,\n    name: \"password\",\n    type: \"password\",\n    onChange: onChange,\n    error: errors.password,\n    required: true,\n    placeholder: \"Create a password\",\n    fz: 15\n  }), __jsx(Text, {\n    mt: 15,\n    fz: 15,\n    bold: true\n  }, \"Birthday\"), __jsx(Text, null, \"To sign up, you must be 18 or older. Other people won\\u2019t see your birthday.\"), __jsx(Wrapper, {\n    mt: 20,\n    mb: 20,\n    width100: true\n  }, __jsx(DatePicker, {\n    selected: user.birthday,\n    name: \"birthday\",\n    maxDate: new Date(new Date().setFullYear(new Date().getFullYear() - 18)),\n    onChange: onChangeBirthday,\n    withPortal: true,\n    showYearDropdown: true,\n    dateFormat: \"dd/MM/yyyy\"\n  })), __jsx(Button, {\n    green: true,\n    disabled: disabled,\n    loading: loading,\n    onClick: handleSubmit\n  }, \"Create account\")), __jsx(ServerError, null, serverError), __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: 20,\n    mb: 15\n  }), __jsx(FlexBlock, {\n    right: true\n  }, __jsx(Text, {\n    pr: 15\n  }, \"Already signed up?\"), __jsx(Link, {\n    href: '/login'\n  }, __jsx(Text, {\n    isLink: true\n  }, \"Log in\"))))));\n};\n\nvar LoginWrap = styled.div(_templateObject(), LogoGreen);\nvar FormWrap = styled.div(_templateObject2(), device.laptopDesktop, function (p) {\n  return p.isRegEmail && css(_templateObject3());\n});\nexport default RegistrationPage;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/pages/registration.js"],"names":["React","useState","useEffect","Link","MainContext","MainConsumer","styled","css","device","Wrapper","Button","Divider","Close","LogoGreen","FlexBlock","Text","ServerError","Input","CheckboxWithLabel","DatePicker","validate","hasError","showNotification","Router","OnlyMobile","OnlyDesktop","apiCreateUser","RegistrationPage","setView","defaultUserData","email","firstName","lastName","password","birthday","offerId","localStorage","getItem","user","setUser","errors","setErorrs","checked","setCheck","loading","setLoading","serverError","setServerError","data","setData","console","log","onChange","e","target","name","value","required","trim","error","onChangeBirthday","handleSubmit","clone","toLowerCase","then","res","removeItem","pushRoute","err","disabled","Date","setFullYear","getFullYear","LoginWrap","div","FormWrap","laptopDesktop","p","isRegEmail"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,WAAT,EAAsBC,YAAtB,QAA0C,4CAA1C;AAEA,OAAOC,MAAP,IAAgBC,GAAhB,QAA0B,mBAA1B;AACA,SAASC,MAAT,QAAuB,oBAAvB;AACA,SAASC,OAAT,QAAwB,wCAAxB;AACA,SAASC,MAAT,QAAuB,sCAAvB;AACA,SAASC,OAAT,QAAwB,wCAAxB;AACA,SAASC,KAAT,EAAgBC,SAAhB,QAAiC,qCAAjC;AACA,SAASC,SAAT,QAA0B,0CAA1B;AACA,SAASC,IAAT,EAAeC,WAAf,QAAkC,qCAAlC;AACA,SAASC,KAAT,QAAsB,oCAAtB;AACA,SAASC,iBAAT,QAAkC,0CAAlC;AACA,OAAOC,UAAP,MAAuB,mDAAvB;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,qCAAxC;AAEA,SAASC,aAAT,QAA8B,gBAA9B;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;AACtC,MAAMC,eAAe,GAAG;AACpBC,IAAAA,KAAK,EAAE,EADa;AAEpBC,IAAAA,SAAS,EAAE,EAFS;AAGpBC,IAAAA,QAAQ,EAAE,EAHU;AAIpBC,IAAAA,QAAQ,EAAE,EAJU;AAKpBC,IAAAA,QAAQ,EAAE,IALU;AAMpBC,IAAAA,OAAO,EAAEC,YAAY,CAACC,OAAb,CAAqB,MAArB;AANW,GAAxB;;AADsC,kBASdpC,QAAQ,CAAC4B,eAAD,CATM;AAAA,MAS/BS,IAT+B;AAAA,MASzBC,OATyB;;AAAA,mBAUVtC,QAAQ,CAAC,EAAD,CAVE;AAAA,MAU/BuC,MAV+B;AAAA,MAUvBC,SAVuB;;AAAA,mBAWVxC,QAAQ,CAAC,KAAD,CAXE;AAAA,MAW/ByC,OAX+B;AAAA,MAWtBC,QAXsB;;AAAA,mBAYR1C,QAAQ,CAAC,KAAD,CAZA;AAAA,MAY/B2C,OAZ+B;AAAA,MAYtBC,UAZsB;;AAAA,mBAaA5C,QAAQ,CAAC,KAAD,CAbR;AAAA,MAa/B6C,WAb+B;AAAA,MAalBC,cAbkB;;AAAA,mBAcd9C,QAAQ,CAAC,SAAD,CAdM;AAAA,MAc/B+C,IAd+B;AAAA,MAczBC,OAdyB;;AAgBtCC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBb,IAApB;;AAEA,MAAMc,QAAQ,GAAG,SAAXA,QAAW,CAACC,CAAD,EAAO;AAAA,oBACYA,CAAC,CAACC,MADd;AAAA,QACdC,IADc,aACdA,IADc;AAAA,QACRC,KADQ,aACRA,KADQ;AAAA,QACDC,QADC,aACDA,QADC;AAEpB,QAAIF,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,UAAjC,EAA6CC,KAAK,GAAGA,KAAK,CAACE,IAAN,EAAR;AAC7CnB,IAAAA,OAAO,CAAC,UAACD,IAAD;AAAA,+BAAgBA,IAAhB,sBAAuBiB,IAAvB,EAA8BC,KAA9B;AAAA,KAAD,CAAP;AACA,QAAIG,KAAK,GAAGvC,QAAQ,CAACmC,IAAD,EAAOC,KAAP,EAAcC,QAAd,CAApB;AACAhB,IAAAA,SAAS,CAAC,UAACD,MAAD;AAAA,+BAAkBA,MAAlB,sBAA2Be,IAA3B,EAAkCI,KAAlC;AAAA,KAAD,CAAT;AACH,GAND;;AAOA,MAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAC1B,QAAD,EAAc;AACnCK,IAAAA,OAAO,CAAC,UAACD,IAAD;AAAA,+BAAgBA,IAAhB;AAAsBJ,QAAAA,QAAQ,EAAEA;AAAhC;AAAA,KAAD,CAAP;AACH,GAFD;;AAGA,MAAM2B,YAAY,GAAG,SAAfA,YAAe,GAAM;AACvBhB,IAAAA,UAAU,CAAC,IAAD,CAAV;;AACA,QAAIiB,KAAK,qBAAQxB,IAAR;AAAcR,MAAAA,KAAK,EAAEQ,IAAI,CAACR,KAAL,CAAWiC,WAAX;AAArB,MAAT;;AACArC,IAAAA,aAAa,CAACoC,KAAD,CAAb,CACKE,IADL,CACU,UAACC,GAAD,EAAS;AACX3C,MAAAA,gBAAgB,CAAC,MAAD,4BAA4BgB,IAAI,CAACR,KAAjC,0BAAhB;AACAM,MAAAA,YAAY,CAAC8B,UAAb,CAAwB,MAAxB;AACA3C,MAAAA,MAAM,CAAC4C,SAAP,CAAiB,QAAjB;AACH,KALL,WAMW,UAACC,GAAD,EAAS;AACZvB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAvB,MAAAA,gBAAgB,CAAC,OAAD,EAAU8C,GAAV,CAAhB;AACH,KATL;AAUH,GAbD;;AAeA,MAAIC,QAAQ,GACRhD,QAAQ,CAACmB,MAAD,CAAR,IAAoB,CAACF,IAAI,CAACR,KAA1B,IAAmC,CAACQ,IAAI,CAACP,SAAzC,IAAsD,CAACO,IAAI,CAACN,QAA5D,IAAwE,CAACM,IAAI,CAACL,QADlF;AAGA,SACI,4BACI,MAAC,SAAD,QAEI,MAAC,OAAD;AAAS,IAAA,CAAC,EAAE;AAAZ,KACI,MAAC,UAAD,QACI,MAAC,OAAD;AAAS,IAAA,EAAE,EAAE;AAAb,KACI,MAAC,KAAD;AAAO,IAAA,OAAO,EAAE;AAAA,aAAML,OAAO,CAAC,KAAD,CAAb;AAAA;AAAhB,IADJ,CADJ,CADJ,EAOI,MAAC,QAAD,QACI,MAAC,KAAD;AACI,IAAA,KAAK,EAAEU,IAAI,CAACR,KADhB;AAEI,IAAA,IAAI,EAAE,OAFV;AAGI,IAAA,QAAQ,EAAEsB,QAHd;AAII,IAAA,KAAK,EAAEZ,MAAM,CAACV,KAJlB;AAKI,IAAA,WAAW,EAAC,eALhB;AAMI,IAAA,QAAQ,MANZ;AAOI,IAAA,EAAE,EAAE,KAPR;AAQI,IAAA,EAAE,EAAE;AARR,IADJ,EAWI,MAAC,KAAD;AACI,IAAA,KAAK,EAAEQ,IAAI,CAACP,SADhB;AAEI,IAAA,IAAI,EAAE,WAFV;AAGI,IAAA,QAAQ,EAAEqB,QAHd;AAII,IAAA,KAAK,EAAEZ,MAAM,CAACT,SAJlB;AAKI,IAAA,WAAW,EAAC,YALhB;AAMI,IAAA,QAAQ,MANZ;AAOI,IAAA,EAAE,EAAE,KAPR;AAQI,IAAA,EAAE,EAAE;AARR,IAXJ,EAqBI,MAAC,KAAD;AACI,IAAA,KAAK,EAAEO,IAAI,CAACN,QADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,QAAQ,EAAEoB,QAHd;AAII,IAAA,KAAK,EAAEZ,MAAM,CAACR,QAJlB;AAKI,IAAA,WAAW,EAAC,WALhB;AAMI,IAAA,QAAQ,MANZ;AAOI,IAAA,EAAE,EAAE,EAPR;AAQI,IAAA,EAAE,EAAE;AARR,IArBJ,EA+BI,MAAC,KAAD;AACI,IAAA,KAAK,EAAEM,IAAI,CAACL,QADhB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,IAAI,EAAC,UAHT;AAII,IAAA,QAAQ,EAAEmB,QAJd;AAKI,IAAA,KAAK,EAAEZ,MAAM,CAACP,QALlB;AAMI,IAAA,QAAQ,MANZ;AAOI,IAAA,WAAW,EAAC,mBAPhB;AAQI,IAAA,EAAE,EAAE;AARR,IA/BJ,EA0CI,MAAC,IAAD;AAAM,IAAA,EAAE,EAAE,EAAV;AAAc,IAAA,EAAE,EAAE,EAAlB;AAAsB,IAAA,IAAI;AAA1B,gBA1CJ,EA6CI,MAAC,IAAD,0FA7CJ,EA+CI,MAAC,OAAD;AAAS,IAAA,EAAE,EAAE,EAAb;AAAiB,IAAA,EAAE,EAAE,EAArB;AAAyB,IAAA,QAAQ;AAAjC,KACI,MAAC,UAAD;AACI,IAAA,QAAQ,EAAEK,IAAI,CAACJ,QADnB;AAEI,IAAA,IAAI,EAAC,UAFT;AAGI,IAAA,OAAO,EAAE,IAAIoC,IAAJ,CAAS,IAAIA,IAAJ,GAAWC,WAAX,CAAuB,IAAID,IAAJ,GAAWE,WAAX,KAA2B,EAAlD,CAAT,CAHb;AAII,IAAA,QAAQ,EAAEZ,gBAJd;AAKI,IAAA,UAAU,MALd;AAMI,IAAA,gBAAgB,MANpB;AAOI,IAAA,UAAU,EAAC;AAPf,IADJ,CA/CJ,EA2DI,MAAC,MAAD;AAAQ,IAAA,KAAK,MAAb;AAAc,IAAA,QAAQ,EAAES,QAAxB;AAAkC,IAAA,OAAO,EAAEzB,OAA3C;AAAoD,IAAA,OAAO,EAAEiB;AAA7D,sBA3DJ,CAPJ,EAuEI,MAAC,WAAD,QAAcf,WAAd,CAvEJ,EAyEI,MAAC,OAAD;AAAS,IAAA,IAAI,MAAb;AAAc,IAAA,IAAI,MAAlB;AAAmB,IAAA,EAAE,EAAE,EAAvB;AAA2B,IAAA,EAAE,EAAE;AAA/B,IAzEJ,EA2EI,MAAC,SAAD;AAAW,IAAA,KAAK;AAAhB,KACI,MAAC,IAAD;AAAM,IAAA,EAAE,EAAE;AAAV,0BADJ,EAEI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,IAAD;AAAM,IAAA,MAAM;AAAZ,cADJ,CAFJ,CA3EJ,CAFJ,CADJ,CADJ;AAyFH,CAvID;;AAwIA,IAAM2B,SAAS,GAAGnE,MAAM,CAACoE,GAAV,oBACX7D,SADW,CAAf;AAMA,IAAM8D,QAAQ,GAAGrE,MAAM,CAACoE,GAAV,qBACHlE,MAAM,CAACoE,aADJ,EAKR,UAACC,CAAD;AAAA,SACFA,CAAC,CAACC,UAAF,IACAvE,GADA,oBADE;AAAA,CALQ,CAAd;AAaA,eAAeoB,gBAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { MainContext, MainConsumer } from '../components/contextProviders/MainContext'\r\n\r\nimport styled, {css} from 'styled-components'\r\nimport { device } from '../lib/mediaDevice'\r\nimport { Wrapper } from '../components/StyledComponents/Wrapper'\r\nimport { Button } from '../components/controls/Button/Button'\r\nimport { Divider } from '../components/StyledComponents/Divider'\r\nimport { Close, LogoGreen } from '../components/StyledComponents/Icon'\r\nimport { FlexBlock } from '../components/StyledComponents/FlexBlock'\r\nimport { Text, ServerError } from '../components/StyledComponents/Text'\r\nimport { Input } from '../components/controls/Input/Input'\r\nimport { CheckboxWithLabel } from '../components/controls/Checkbox/Checkbox'\r\nimport DatePicker from '../components/controls/DateTimePickers/Datepicker'\r\nimport validate from '../utils/validation'\r\nimport { hasError } from '../utils/utils'\r\nimport { showNotification } from '../utils/notification'\r\nimport { Router } from '../routes'\r\nimport { OnlyMobile, OnlyDesktop } from '../components/StyledComponents/Grid'\r\n\r\nimport { apiCreateUser } from '../actions/api'\r\n\r\nconst RegistrationPage = ({ setView }) => {\r\n    const defaultUserData = {\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        password: '',\r\n        birthday: null,\r\n        offerId: localStorage.getItem('ioid'),\r\n    }\r\n    const [user, setUser] = useState(defaultUserData)\r\n    const [errors, setErorrs] = useState({})\r\n    const [checked, setCheck] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [serverError, setServerError] = useState(false)\r\n    const [data, setData] = useState('initial')\r\n\r\n    console.log('user', user)\r\n\r\n    const onChange = (e) => {\r\n        let { name, value, required } = e.target\r\n        if (name === 'email' || name === 'password') value = value.trim()\r\n        setUser((user) => ({ ...user, [name]: value }))\r\n        let error = validate(name, value, required)\r\n        setErorrs((errors) => ({ ...errors, [name]: error }))\r\n    }\r\n    const onChangeBirthday = (birthday) => {\r\n        setUser((user) => ({ ...user, birthday: birthday }))\r\n    }\r\n    const handleSubmit = () => {\r\n        setLoading(true)\r\n        let clone = { ...user, email: user.email.toLowerCase() }\r\n        apiCreateUser(clone)\r\n            .then((res) => {\r\n                showNotification('info', `Check your mail ${user.email} to activate account`)\r\n                localStorage.removeItem('ioid')\r\n                Router.pushRoute('/login')\r\n            })\r\n            .catch((err) => {\r\n                setLoading(false)\r\n                showNotification('error', err)\r\n            })\r\n    }\r\n\r\n    let disabled =\r\n        hasError(errors) || !user.email || !user.firstName || !user.lastName || !user.password\r\n\r\n    return (\r\n        <>\r\n            <LoginWrap>\r\n\r\n                <Wrapper p={25}>\r\n                    <OnlyMobile>\r\n                        <Wrapper mb={35}>\r\n                            <Close onClick={() => setView(false)} />\r\n                        </Wrapper>\r\n                    </OnlyMobile>\r\n\r\n                    <FormWrap>\r\n                        <Input\r\n                            value={user.email}\r\n                            name={'email'}\r\n                            onChange={onChange}\r\n                            error={errors.email}\r\n                            placeholder=\"Email address\"\r\n                            required\r\n                            mb={'5px'}\r\n                            fz={15}\r\n                        />\r\n                        <Input\r\n                            value={user.firstName}\r\n                            name={'firstName'}\r\n                            onChange={onChange}\r\n                            error={errors.firstName}\r\n                            placeholder=\"First name\"\r\n                            required\r\n                            mb={'5px'}\r\n                            fz={15}\r\n                        />\r\n                        <Input\r\n                            value={user.lastName}\r\n                            name=\"lastName\"\r\n                            onChange={onChange}\r\n                            error={errors.lastName}\r\n                            placeholder=\"Last name\"\r\n                            required\r\n                            fz={15}\r\n                            mb={'5px'}\r\n                        />\r\n                        <Input\r\n                            value={user.password}\r\n                            name=\"password\"\r\n                            type=\"password\"\r\n                            onChange={onChange}\r\n                            error={errors.password}\r\n                            required\r\n                            placeholder=\"Create a password\"\r\n                            fz={15}\r\n                        />\r\n\r\n                        <Text mt={15} fz={15} bold>\r\n                            Birthday\r\n                        </Text>\r\n                        <Text>To sign up, you must be 18 or older. Other people won’t see your birthday.</Text>\r\n\r\n                        <Wrapper mt={20} mb={20} width100>\r\n                            <DatePicker\r\n                                selected={user.birthday}\r\n                                name=\"birthday\"\r\n                                maxDate={new Date(new Date().setFullYear(new Date().getFullYear() - 18))}\r\n                                onChange={onChangeBirthday}\r\n                                withPortal\r\n                                showYearDropdown\r\n                                dateFormat=\"dd/MM/yyyy\"\r\n                            />\r\n                        </Wrapper>\r\n\r\n                        <Button green disabled={disabled} loading={loading} onClick={handleSubmit}>\r\n                            Create account\r\n                        </Button>\r\n                    </FormWrap>\r\n\r\n                    <ServerError>{serverError}</ServerError>\r\n\r\n                    <Divider grey full mt={20} mb={15} />\r\n\r\n                    <FlexBlock right>\r\n                        <Text pr={15}>Already signed up?</Text>\r\n                        <Link href={'/login'}>\r\n                            <Text isLink>Log in</Text>\r\n                        </Link>\r\n                    </FlexBlock>\r\n                </Wrapper>\r\n            </LoginWrap>\r\n        </>\r\n    )\r\n}\r\nconst LoginWrap = styled.div`\r\n  ${LogoGreen} {\r\n    width: 46px;\r\n    cursor: pointer;\r\n  }\r\n`\r\nconst FormWrap = styled.div`\r\n  @media ${device.laptopDesktop} {\r\n    width: 400px;\r\n    margin: 10% auto 0 auto;\r\n\r\n    ${(p) =>\r\n    p.isRegEmail &&\r\n    css`\r\n        margin-top: 0;\r\n      `}\r\n  }\r\n`\r\n\r\nexport default RegistrationPage\r\n"]},"metadata":{},"sourceType":"module"}