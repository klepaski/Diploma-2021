{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  color: rgba(255, 255, 255, 0.7);\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: \", \";\\n\\n  > div > div > div {\\n    min-height: 46px;\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 300px;\\n  display: flex;\\n\\n  .picker-left input {\\n    border-right: 0;\\n    border-radius: 5px 0px 0px 5px;\\n  }\\n  .picker-right input {\\n    //border-left: 0;\\n    border-radius: 0 5px 5px 0px;\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 230px; //\", \";\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 300px;\\n  margin-top: 25px;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-end;\\n\\n  \", \" {\\n    width: 46px;\\n  }\\n  \", \" {\\n    height: 46px;\\n    min-height: 46px;\\n    margin-bottom: 0;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 430px;\\n  margin: 0 auto;\\n  position: relative;\\n  top: -13px;\\n\\n  @media \", \" {\\n    width: 100%;\\n    top: 50px;\\n  }\\n\\n  \", \" {\\n    color: #ffffff;\\n    font-size: 24px;\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport styled from 'styled-components';\nimport { Footer, Label, Label2, Title } from '../../Layouts/styledLayouts';\nimport { Wrapper, WrapperHeight } from '../../StyledComponents/Wrapper';\nimport { Button } from '../../controls/Button/Button';\nimport Header from '../../Header/Header';\nimport Select from '../../controls/Select/Select';\nimport { Input, InputWrapper } from '../../controls/Input/Input';\nimport DatePicker from '../../controls/DateTimePickers/Datepicker';\nimport { apiGetListOffers } from '../../../actions/api';\nimport ListOffers from '../list/ListOffers';\nimport { device } from '../../../lib/mediaDevice';\nimport { useDetectDevice } from '../../../lib/useDetectDevice';\nimport { ButtonWithIcon } from '../../controls/Button/ButtonWithIcon';\nvar listCountries = [{\n  value: 'United Arab Emirates',\n  label: 'United Arab Emirates'\n}, {\n  value: 'Saudi Arabia',\n  label: 'Saudi Arabia'\n}];\n\nvar SearchBlock = function SearchBlock(_ref) {\n  var blackTitle = _ref.blackTitle,\n      _ref$searchStr = _ref.searchStr,\n      searchStr = _ref$searchStr === void 0 ? '' : _ref$searchStr,\n      _ref$fromP = _ref.fromP,\n      fromP = _ref$fromP === void 0 ? null : _ref$fromP,\n      _ref$toP = _ref.toP,\n      toP = _ref$toP === void 0 ? null : _ref$toP,\n      _ref$countryStr = _ref.countryStr,\n      countryStr = _ref$countryStr === void 0 ? '' : _ref$countryStr;\n  var currentDevice = useDetectDevice();\n\n  var _useState = useState(searchStr),\n      search = _useState[0],\n      setSearch = _useState[1];\n\n  var _useState2 = useState(fromP),\n      from = _useState2[0],\n      setFrom = _useState2[1];\n\n  var _useState3 = useState(toP),\n      to = _useState3[0],\n      setTo = _useState3[1];\n\n  var _useState4 = useState(countryStr),\n      country = _useState4[0],\n      setCountry = _useState4[1];\n\n  var _useState5 = useState([]),\n      listOffers = _useState5[0],\n      setListOffers = _useState5[1];\n\n  var _useState6 = useState(false),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var onChangeSearch = function onChangeSearch(e) {\n    setSearch(e.target.value);\n  };\n\n  var onChangeDateFrom = function onChangeDateFrom(date) {\n    setFrom(date);\n  };\n\n  var onChangeDateTo = function onChangeDateTo(date) {\n    setTo(date);\n  };\n\n  var handleChangeCountry = function handleChangeCountry(country) {\n    setCountry(country.value);\n  };\n\n  var getListOffers = function getListOffers() {\n    var params = {\n      search: search,\n      country: country\n    };\n    apiGetListOffers(params).then(function (res) {\n      setListOffers(res.data);\n    })[\"catch\"](function (e) {});\n  };\n\n  var handleStartSearch = function handleStartSearch() {\n    var fromSearch = from && new Date(from) ? new Date(from).getTime() : '';\n    var toSearch = to && new Date(to) ? new Date(to).getTime() : '';\n    Router.push(\"/offers/search?search=\".concat(search, \"&from=\").concat(fromSearch, \"&to=\").concat(toSearch, \"&country=\").concat(country), \"/offers/search?search=\".concat(search, \"&from=\").concat(fromSearch, \"&to=\").concat(toSearch, \"&country=\").concat(country), {\n      shallow: true\n    });\n  };\n\n  return __jsx(Box, null, __jsx(Label, {\n    small: true\n  }, \"Who are you looking for?\"), __jsx(WrapperFlex, null, __jsx(WFBox, {\n    width: 45\n  }, __jsx(LabelD, null, \"Programmer\"), __jsx(Input, {\n    type: 'text',\n    value: search,\n    onChange: onChangeSearch,\n    placeholder: \"Anyone\",\n    mb: '5px',\n    fz: 15\n  })), __jsx(ButtonWithIcon, {\n    onClick: handleStartSearch,\n    search: true\n  })));\n};\n\nvar SearchingBlockWrapper = styled.div(_templateObject());\nvar Box = styled.div(_templateObject2(), device.iPad, Label);\nvar WrapperFlex = styled.div(_templateObject3(), ButtonWithIcon, InputWrapper);\nvar WFBox = styled.div(_templateObject4(), function (p) {\n  return \"\".concat(p.width, \"%\");\n});\nvar DateBox = styled.div(_templateObject5());\nvar SelectBox = styled.div(_templateObject6(), function (p) {\n  return p.width ? \"\".concat(p.width, \"%\") : '35%';\n});\nvar LabelD = styled.div(_templateObject7());\nexport default SearchBlock;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/search/SearchBlock.js"],"names":["React","useState","useEffect","Router","useRouter","styled","Footer","Label","Label2","Title","Wrapper","WrapperHeight","Button","Header","Select","Input","InputWrapper","DatePicker","apiGetListOffers","ListOffers","device","useDetectDevice","ButtonWithIcon","listCountries","value","label","SearchBlock","blackTitle","searchStr","fromP","toP","countryStr","currentDevice","search","setSearch","from","setFrom","to","setTo","country","setCountry","listOffers","setListOffers","loading","setLoading","onChangeSearch","e","target","onChangeDateFrom","date","onChangeDateTo","handleChangeCountry","getListOffers","params","then","res","data","handleStartSearch","fromSearch","Date","getTime","toSearch","push","shallow","SearchingBlockWrapper","div","Box","iPad","WrapperFlex","WFBox","p","width","DateBox","SelectBox","LabelD"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Router, { useRouter } from 'next/router'\r\nimport styled from 'styled-components'\r\nimport { Footer, Label, Label2, Title } from '../../Layouts/styledLayouts'\r\nimport { Wrapper, WrapperHeight } from '../../StyledComponents/Wrapper'\r\nimport { Button } from '../../controls/Button/Button'\r\nimport Header from '../../Header/Header'\r\nimport Select from '../../controls/Select/Select'\r\nimport { Input, InputWrapper } from '../../controls/Input/Input'\r\nimport DatePicker from '../../controls/DateTimePickers/Datepicker'\r\nimport { apiGetListOffers } from '../../../actions/api'\r\nimport ListOffers from '../list/ListOffers'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport { useDetectDevice } from '../../../lib/useDetectDevice'\r\nimport { ButtonWithIcon } from '../../controls/Button/ButtonWithIcon'\r\n\r\nconst listCountries = [\r\n  { value: 'United Arab Emirates', label: 'United Arab Emirates' },\r\n  { value: 'Saudi Arabia', label: 'Saudi Arabia' },\r\n]\r\n\r\nconst SearchBlock = ({ blackTitle, searchStr = '', fromP = null, toP = null, countryStr = '' }) => {\r\n  const currentDevice = useDetectDevice()\r\n  const [search, setSearch] = useState(searchStr)\r\n  const [from, setFrom] = useState(fromP)\r\n  const [to, setTo] = useState(toP)\r\n  const [country, setCountry] = useState(countryStr)\r\n  const [listOffers, setListOffers] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  let onChangeSearch = (e) => {\r\n    setSearch(e.target.value)\r\n  }\r\n  const onChangeDateFrom = (date) => {\r\n    setFrom(date)\r\n  }\r\n  const onChangeDateTo = (date) => {\r\n    setTo(date)\r\n  }\r\n  const handleChangeCountry = (country) => {\r\n    setCountry(country.value)\r\n  }\r\n\r\n  const getListOffers = () => {\r\n    let params = {\r\n      search: search,\r\n      country: country,\r\n    }\r\n    apiGetListOffers(params)\r\n      .then((res) => {\r\n        setListOffers(res.data)\r\n      })\r\n      .catch((e) => {})\r\n  }\r\n\r\n  const handleStartSearch = () => {\r\n    let fromSearch = from && new Date(from) ? new Date(from).getTime() : ''\r\n    let toSearch = to && new Date(to) ? new Date(to).getTime() : ''\r\n\r\n    Router.push(\r\n      `/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`,\r\n      `/offers/search?search=${search}&from=${fromSearch}&to=${toSearch}&country=${country}`,\r\n      { shallow: true },\r\n    )\r\n  }\r\n\r\n    return (\r\n      <Box>\r\n        <Label small>Who are you looking for?</Label>\r\n        <WrapperFlex>\r\n          <WFBox width={45}>\r\n            <LabelD>Programmer</LabelD>\r\n            <Input\r\n              type={'text'}\r\n              value={search}\r\n              onChange={onChangeSearch}\r\n              placeholder=\"Anyone\"\r\n              mb={'5px'}\r\n              fz={15}\r\n            />\r\n          </WFBox>\r\n          {/*<DateBox>\r\n            <div className={'picker-left'}>\r\n              <LabelD>From</LabelD>\r\n              <DatePicker\r\n                selected={from}\r\n                name=\"date\"\r\n                maxDate={to}\r\n                onChange={onChangeDateFrom}\r\n                showYearDropdown\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                placeholderText={'dd/mm/yyyy'}\r\n              />\r\n            </div>\r\n            <div className={'picker-right'}>\r\n              <LabelD>To</LabelD>\r\n              <DatePicker\r\n                selected={to}\r\n                name=\"date\"\r\n                minDate={from}\r\n                onChange={onChangeDateTo}\r\n                showYearDropdown\r\n                dateFormat=\"dd/MM/yyyy\"\r\n                placeholderText={'dd/mm/yyyy'}\r\n              />\r\n            </div>\r\n          </DateBox>*/}\r\n\r\n          <ButtonWithIcon onClick={handleStartSearch} search />\r\n        </WrapperFlex>\r\n      </Box>\r\n    )\r\n}\r\n\r\nconst SearchingBlockWrapper = styled.div``\r\nconst Box = styled.div`\r\n  width: 430px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  top: -13px;\r\n\r\n  @media ${device.iPad} {\r\n    width: 100%;\r\n    top: 50px;\r\n  }\r\n\r\n  ${Label} {\r\n    color: #ffffff;\r\n    font-size: 24px;\r\n  }\r\n`\r\nconst WrapperFlex = styled.div`\r\n  width: 300px;\r\n  margin-top: 25px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-end;\r\n\r\n  ${ButtonWithIcon} {\r\n    width: 46px;\r\n  }\r\n  ${InputWrapper} {\r\n    height: 46px;\r\n    min-height: 46px;\r\n    margin-bottom: 0;\r\n  }\r\n`\r\nconst WFBox = styled.div`\r\n  width: 230px; //${(p) => `${p.width}%`};\r\n`\r\nconst DateBox = styled.div`\r\n  width: 300px;\r\n  display: flex;\r\n\r\n  .picker-left input {\r\n    border-right: 0;\r\n    border-radius: 5px 0px 0px 5px;\r\n  }\r\n  .picker-right input {\r\n    //border-left: 0;\r\n    border-radius: 0 5px 5px 0px;\r\n  }\r\n`\r\n\r\nconst SelectBox = styled.div`\r\n  width: ${(p) => p.width ? `${p.width}%` : '35%'};\r\n\r\n  > div > div > div {\r\n    min-height: 46px;\r\n  }\r\n`\r\nconst LabelD = styled.div`\r\n  font-size: 14px;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  margin-bottom: 10px;\r\n`\r\n\r\nexport default SearchBlock\r\n"]},"metadata":{},"sourceType":"module"}