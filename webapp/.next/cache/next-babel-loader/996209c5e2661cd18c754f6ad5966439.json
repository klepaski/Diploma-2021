{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n    width: 8px;\\n    height: 8px;\\n    border-radius: 4px;\\n    background: #00C874;\\n    position: relative;\\n    top: -7px;\\n    right: 5px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useContext } from 'react';\nimport Link from \"next/link\";\nimport Router from 'next/router';\nimport { MainContext, MainConsumer } from \"../contextProviders/MainContext\";\nimport { SubTitle } from '../StyledComponents/Text';\nimport { HeaderWrapper, HeaderWrapperReg, HeaderWrapperProfile, HeaderWrapperOffer, HeaderLogo, PreviewBtn } from './styledHeader';\nimport { Text } from \"../../components/StyledComponents/Text\";\nimport { Logo, LogoGreen, LogoPurple, Bars, GreenArrowDown, PurpleArrowDown, PlusPurple, Preferences, ArrowLeft } from '../StyledComponents/Icon';\nimport { logout } from \"../../utils/auth\";\nimport { Input } from \"../../components/controls/Input/Input\";\nimport Sidebar from './Sidebar';\nimport { modifySrc } from \"../../utils/modifySrc\";\nimport styled from \"styled-components\";\n\nvar Header = function Header(_ref) {\n  var isReg = _ref.isReg,\n      isProfile = _ref.isProfile,\n      isOffer = _ref.isOffer,\n      isPreview = _ref.isPreview,\n      previewOfferCb = _ref.previewOfferCb,\n      isHomepage = _ref.isHomepage,\n      hiddeSave = _ref.hiddeSave;\n\n  var _useContext = useContext(MainContext),\n      me = _useContext.me,\n      checkedMe = _useContext.checkedMe,\n      unreadMessages = _useContext.unreadMessages;\n\n  var _useState = useState(false),\n      openedSidebar = _useState[0],\n      setOpen = _useState[1];\n\n  var toggleSidebar = function toggleSidebar() {\n    if (!openedSidebar) {\n      document.getElementsByTagName(\"body\")[0].className = \"no-scroll\";\n    } else {\n      document.getElementsByTagName(\"body\")[0].classList.remove(\"no-scroll\");\n    }\n\n    setOpen(!openedSidebar);\n  };\n\n  if (true && !openedSidebar) {\n    document.getElementsByTagName(\"body\")[0].classList.remove(\"no-scroll\");\n  } // console.log(isReg, isProfile, isOffer, isPreview)\n\n\n  return __jsx(React.Fragment, null, isReg ? __jsx(HeaderWrapperReg, null, hiddeSave ? __jsx(React.Fragment, null, me.firstName, \" \", me.lastName) : __jsx(\"div\", {\n    onClick: function onClick() {\n      return Router.push('/profile/offers', \"/profile/offers\", {\n        shallow: true\n      });\n    }\n  }, \"Save end Exit\")) : isProfile ? __jsx(HeaderWrapperProfile, null, __jsx(\"div\", {\n    onClick: toggleSidebar\n  }, __jsx(LogoGreen, null), __jsx(GreenArrowDown, null)), previewOfferCb ? __jsx(PreviewBtn, {\n    onClick: function onClick() {\n      return previewOfferCb();\n    }\n  }, \"Preview\") : __jsx(Input, {\n    placeholder: \"Search\",\n    ml: 10,\n    height40: true\n  })) : isPreview ? __jsx(HeaderWrapperOffer, null, __jsx(\"div\", null, __jsx(LogoPurple, null), __jsx(PurpleArrowDown, null)), __jsx(\"div\", null, __jsx(Text, {\n    blue: true\n  }, \"Preview\"))) : __jsx(HeaderWrapper, {\n    isHomepage: !!isHomepage\n  }, __jsx(\"div\", null, __jsx(Logo, null), me.id && __jsx(Bars, {\n    onClick: toggleSidebar\n  }), !!unreadMessages && __jsx(UnreadMessages, null)), checkedMe && __jsx(React.Fragment, null, !me.id ? __jsx(Link, {\n    href: \"/login\",\n    as: '/login'\n  }, __jsx(SubTitle, {\n    white: true\n  }, \"Log in\")) : __jsx(HeaderLogo, {\n    src: modifySrc(me.profilePhotoURL, 'profile'),\n    onClick: function onClick() {\n      return Router.push('/profile');\n    }\n  }) // <SubTitle white onClick={logout}>Logout</SubTitle>\n  )), openedSidebar && __jsx(Sidebar, {\n    isHomepage: !!isHomepage,\n    toggleSidebar: toggleSidebar,\n    logout: logout\n  }));\n};\n\nexport default Header;\nvar UnreadMessages = styled.span(_templateObject());","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Header/Header.js"],"names":["React","useState","useContext","Link","Router","MainContext","MainConsumer","SubTitle","HeaderWrapper","HeaderWrapperReg","HeaderWrapperProfile","HeaderWrapperOffer","HeaderLogo","PreviewBtn","Text","Logo","LogoGreen","LogoPurple","Bars","GreenArrowDown","PurpleArrowDown","PlusPurple","Preferences","ArrowLeft","logout","Input","Sidebar","modifySrc","styled","Header","isReg","isProfile","isOffer","isPreview","previewOfferCb","isHomepage","hiddeSave","me","checkedMe","unreadMessages","openedSidebar","setOpen","toggleSidebar","document","getElementsByTagName","className","classList","remove","firstName","lastName","push","shallow","id","profilePhotoURL","UnreadMessages","span"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport Link from \"next/link\";\r\nimport Router from 'next/router'\r\nimport {MainContext, MainConsumer} from \"../contextProviders/MainContext\";\r\nimport {SubTitle} from '../StyledComponents/Text'\r\nimport {HeaderWrapper, HeaderWrapperReg, HeaderWrapperProfile, HeaderWrapperOffer, HeaderLogo, PreviewBtn} from './styledHeader'\r\nimport {Text} from \"../../components/StyledComponents/Text\";\r\nimport {\r\n    Logo,\r\n    LogoGreen,\r\n    LogoPurple,\r\n    Bars,\r\n    GreenArrowDown,\r\n    PurpleArrowDown,\r\n    PlusPurple,\r\n    Preferences,\r\n    ArrowLeft\r\n} from '../StyledComponents/Icon'\r\nimport {logout} from \"../../utils/auth\";\r\nimport {Input} from \"../../components/controls/Input/Input\";\r\nimport Sidebar from './Sidebar'\r\nimport {modifySrc} from \"../../utils/modifySrc\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Header = ({isReg, isProfile, isOffer, isPreview, previewOfferCb, isHomepage, hiddeSave}) => {\r\n    const {me, checkedMe, unreadMessages} = useContext(MainContext)\r\n    const [openedSidebar, setOpen] = useState(false)\r\n\r\n    const toggleSidebar = () => {\r\n        if(!openedSidebar) {\r\n            document.getElementsByTagName(\"body\")[0].className = \"no-scroll\";\r\n        } else {\r\n            document.getElementsByTagName(\"body\")[0].classList.remove(\"no-scroll\");\r\n        }\r\n        setOpen(!openedSidebar)\r\n    }\r\n\r\n    if(process.browser && !openedSidebar) {\r\n        document.getElementsByTagName(\"body\")[0].classList.remove(\"no-scroll\");\r\n    }\r\n\r\n    // console.log(isReg, isProfile, isOffer, isPreview)\r\n\r\n    return (\r\n        <>\r\n            {isReg ?\r\n                <HeaderWrapperReg>\r\n                    { hiddeSave ?\r\n                        <>{me.firstName} {me.lastName}</>\r\n                        :\r\n                        <div onClick={() => Router.push('/profile/offers', `/profile/offers`, {shallow: true})}>Save end Exit</div>\r\n                    }\r\n                </HeaderWrapperReg>\r\n                :\r\n                isProfile ?\r\n                    <HeaderWrapperProfile>\r\n                        <div onClick={toggleSidebar}>\r\n                            <LogoGreen/>\r\n                             <GreenArrowDown  />\r\n                        </div>\r\n                        {previewOfferCb ?\r\n                            <PreviewBtn onClick={() => previewOfferCb()}>Preview</PreviewBtn>\r\n                            :\r\n                            <Input placeholder={\"Search\"} ml={10} height40/>\r\n                        }\r\n                    </HeaderWrapperProfile>\r\n                    :\r\n                    isPreview ?\r\n                        <HeaderWrapperOffer>\r\n                            <div>\r\n                                <LogoPurple/>\r\n                                <PurpleArrowDown/>\r\n                            </div>\r\n                            <div>\r\n                                <Text blue>Preview</Text>\r\n                            </div>\r\n                        </HeaderWrapperOffer>\r\n                    :\r\n                    <HeaderWrapper isHomepage={!!isHomepage}>\r\n                        <div>\r\n                            <Logo/>\r\n                            {me.id  && <Bars onClick={toggleSidebar} />}\r\n                            {!!unreadMessages && <UnreadMessages/>}\r\n                        </div>\r\n                        {checkedMe &&\r\n                            <>\r\n                                {!me.id ?\r\n                                    <Link href=\"/login\" as={'/login'}>\r\n                                        <SubTitle white>Log in</SubTitle>\r\n                                    </Link>\r\n                                    :\r\n                                    <HeaderLogo\r\n                                        src={modifySrc(me.profilePhotoURL, 'profile')}\r\n                                        onClick={() => Router.push('/profile')}\r\n                                    />\r\n                                    // <SubTitle white onClick={logout}>Logout</SubTitle>\r\n                                }\r\n                            </>\r\n                        }\r\n                    </HeaderWrapper>\r\n            }\r\n\r\n            {openedSidebar && <Sidebar isHomepage={!!isHomepage} toggleSidebar={toggleSidebar} logout={logout} />}\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default Header;\r\n\r\n\r\nconst UnreadMessages = styled.span`\r\n  display: inline-block;\r\n    width: 8px;\r\n    height: 8px;\r\n    border-radius: 4px;\r\n    background: #00C874;\r\n    position: relative;\r\n    top: -7px;\r\n    right: 5px;\r\n`;"]},"metadata":{},"sourceType":"module"}