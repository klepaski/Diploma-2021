{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useContext, useEffect } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { MainContext } from '../../../components/contextProviders/MainContext';\nimport styled, { css } from 'styled-components';\nimport { device } from '../../../lib/mediaDevice';\nimport { Wrapper, WrapperHeight } from '../../../components/StyledComponents/Wrapper';\nimport GreatProgress from '../../../components/Offer/params/GreatProggress';\nimport { Button } from '../../../components/controls/Button/Button';\nimport { Footer } from '../../../components/Layouts/styledLayouts';\nimport { Divider } from '../../../components/StyledComponents/Divider';\nimport { apiCreateOfferParams, apiGetParamsCategory, apiEditOffer } from '../../../actions/api';\nimport { showNotification } from '../../../utils/notification';\nimport Header from '../../../components/Header/Header';\nimport useOffer from '../../../hooks/useOffer';\nimport { ContainerDesktop, FooterDesktop } from '../../../components/StyledComponents/Grid';\n\nconst Params = ({}) => {\n  const router = useRouter();\n  const {\n    id\n  } = router.query;\n  const offer = useOffer(id);\n  const {\n    setOffer\n  } = useContext(MainContext);\n  const {\n    0: step,\n    1: setStep\n  } = useState(1);\n  const {\n    0: params,\n    1: setParams\n  } = useState([]);\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(true);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  console.log('offer', offer);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [step]);\n  useEffect(() => {\n    if (offer.id) {\n      let catId = (offer.subCategory ? offer.subCategory.id : null) || offer.category.id;\n      apiGetParamsCategory(catId).then(res => {\n        let params = res.data.templates,\n            parentParams = [];\n\n        if (res.data.parentCategory && res.data.parentCategory.templates) {\n          parentParams = res.data.parentCategory.templates;\n        }\n\n        let paramsConcat = parentParams.concat(params);\n        let paramsArr = paramsConcat.map((item, key) => {\n          return item.templateId;\n        });\n\n        function removeDuplicates(myArr, prop) {\n          return myArr.filter((obj, pos, arr) => {\n            return arr.map(mapObj => mapObj[prop]).indexOf(obj[prop]) === pos;\n          });\n        }\n\n        const unique = removeDuplicates(paramsArr, 'id');\n        unique.map((item, key) => {\n          item.value = getCategoryValue(item.id) || item.defaultValue;\n          if (!item.value && item.type === 'int') item.value = 1;\n        });\n        setParams(unique);\n        setIsLoading(false);\n      }).catch(err => {\n        setLoading(false);\n        setIsLoading(false);\n        showNotification('error', err);\n      });\n    }\n  }, [offer.id]);\n\n  const getCategoryValue = id => {\n    let categoryOptions = offer.categoryOptions || [];\n    let index = categoryOptions.findIndex(item => {\n      let templateId = item.templateId ? item.templateId.id : null;\n      return templateId === id;\n    });\n\n    if (index !== -1) {\n      return categoryOptions[index].value;\n    }\n\n    return null;\n  };\n\n  const handleChangeStep = i => {\n    if (step === 1 && i === 1) {\n      createParams();\n    } else {\n      setStep(step + i);\n    }\n  };\n\n  const onChange = obj => {\n    let clone = [...params];\n    let index = clone.findIndex(item => item.id === obj.id);\n\n    if (index !== -1) {\n      clone[index] = obj;\n      setParams(clone);\n    }\n  };\n\n  const createParams = () => {\n    const clone = [...params];\n    let arr = [];\n    clone.map((item, key) => {\n      arr.push({\n        templateId: item.id,\n        value: item.value\n      });\n    });\n    setLoading(true);\n    apiEditOffer(id, {\n      step: 1\n    });\n    apiCreateOfferParams(id, arr).then(res => {\n      setLoading(false);\n      setOffer(_objectSpread({}, offer, {\n        categoryOptions: res.data.categoryOptions\n      }));\n      Router.push('/offers/[id]/photos', `/offers/${id}/photos`, {\n        shallow: true\n      });\n    }).catch(err => {\n      setLoading(false);\n      showNotification('error', err);\n    });\n  };\n\n  const disabled = loading;\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    isReg: true\n  }), __jsx(ContainerDesktop, {\n    isOffer: true\n  }, __jsx(Wrapper, {\n    p: 17,\n    pt: 35\n  }, !isLoading ? __jsx(React.Fragment, null, __jsx(WrapperHeight, null, step === 1 && __jsx(GreatProgress, {\n    offer: offer,\n    handleChangeStep: handleChangeStep,\n    loading: loading\n  })), step !== 1 && __jsx(FooterDesktop, null, __jsx(Footer, {\n    mt: 30,\n    flexEnd: step === 1\n  }, step !== 1 && __jsx(Button, {\n    onClick: () => handleChangeStep(-1)\n  }, \"Back\"), __jsx(Button, {\n    blue: true,\n    onClick: () => handleChangeStep(1),\n    disabled: disabled\n  }, \"Next\")))) : __jsx(React.Fragment, null, \"Loading...\"))));\n};\n\nexport default Params;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/pages/offers/[id]/params.js"],"names":["React","useState","useContext","useEffect","Router","useRouter","MainContext","styled","css","device","Wrapper","WrapperHeight","GreatProgress","Button","Footer","Divider","apiCreateOfferParams","apiGetParamsCategory","apiEditOffer","showNotification","Header","useOffer","ContainerDesktop","FooterDesktop","Params","router","id","query","offer","setOffer","step","setStep","params","setParams","isLoading","setIsLoading","loading","setLoading","console","log","window","scrollTo","catId","subCategory","category","then","res","data","templates","parentParams","parentCategory","paramsConcat","concat","paramsArr","map","item","key","templateId","removeDuplicates","myArr","prop","filter","obj","pos","arr","mapObj","indexOf","unique","value","getCategoryValue","defaultValue","type","catch","err","categoryOptions","index","findIndex","handleChangeStep","i","createParams","onChange","clone","push","shallow","disabled"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport Router, { useRouter } from 'next/router'\r\nimport { MainContext } from '../../../components/contextProviders/MainContext'\r\nimport styled, { css } from 'styled-components'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport { Wrapper, WrapperHeight } from '../../../components/StyledComponents/Wrapper'\r\nimport GreatProgress from '../../../components/Offer/params/GreatProggress'\r\nimport { Button } from '../../../components/controls/Button/Button'\r\nimport { Footer } from '../../../components/Layouts/styledLayouts'\r\nimport { Divider } from '../../../components/StyledComponents/Divider'\r\nimport { apiCreateOfferParams, apiGetParamsCategory, apiEditOffer } from '../../../actions/api'\r\nimport { showNotification } from '../../../utils/notification'\r\nimport Header from '../../../components/Header/Header'\r\nimport useOffer from '../../../hooks/useOffer'\r\nimport { ContainerDesktop, FooterDesktop } from '../../../components/StyledComponents/Grid'\r\n\r\nconst Params = ({}) => {\r\n  const router = useRouter()\r\n  const { id } = router.query\r\n  const offer = useOffer(id)\r\n  const { setOffer } = useContext(MainContext)\r\n  const [step, setStep] = useState(1)\r\n  const [params, setParams] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  console.log('offer', offer)\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [step])\r\n\r\n  useEffect(() => {\r\n    if (offer.id) {\r\n      let catId = (offer.subCategory ? offer.subCategory.id : null) || offer.category.id\r\n      apiGetParamsCategory(catId)\r\n        .then((res) => {\r\n          let params = res.data.templates,\r\n            parentParams = []\r\n          if (res.data.parentCategory && res.data.parentCategory.templates) {\r\n            parentParams = res.data.parentCategory.templates\r\n          }\r\n\r\n          let paramsConcat = parentParams.concat(params)\r\n          let paramsArr = paramsConcat.map((item, key) => {\r\n            return item.templateId\r\n          })\r\n\r\n          function removeDuplicates(myArr, prop) {\r\n            return myArr.filter((obj, pos, arr) => {\r\n              return arr.map((mapObj) => mapObj[prop]).indexOf(obj[prop]) === pos\r\n            })\r\n          }\r\n          const unique = removeDuplicates(paramsArr, 'id')\r\n\r\n          unique.map((item, key) => {\r\n            item.value = getCategoryValue(item.id) || item.defaultValue\r\n            if (!item.value && item.type === 'int') item.value = 1\r\n          })\r\n          setParams(unique)\r\n          setIsLoading(false)\r\n        })\r\n        .catch((err) => {\r\n          setLoading(false)\r\n          setIsLoading(false)\r\n          showNotification('error', err)\r\n        })\r\n    }\r\n  }, [offer.id])\r\n\r\n  const getCategoryValue = (id) => {\r\n    let categoryOptions = offer.categoryOptions || []\r\n    let index = categoryOptions.findIndex((item) => {\r\n      let templateId = item.templateId ? item.templateId.id : null\r\n      return templateId === id\r\n    })\r\n    if (index !== -1) {\r\n      return categoryOptions[index].value\r\n    }\r\n    return null\r\n  }\r\n\r\n  const handleChangeStep = (i) => {\r\n    if (step === 1 && i === 1) {\r\n      createParams()\r\n    } else {\r\n      setStep(step + i)\r\n    }\r\n  }\r\n\r\n  const onChange = (obj) => {\r\n    let clone = [...params]\r\n    let index = clone.findIndex((item) => item.id === obj.id)\r\n    if (index !== -1) {\r\n      clone[index] = obj\r\n      setParams(clone)\r\n    }\r\n  }\r\n\r\n  const createParams = () => {\r\n    const clone = [...params]\r\n    let arr = []\r\n    clone.map((item, key) => {\r\n      arr.push({\r\n        templateId: item.id,\r\n        value: item.value,\r\n      })\r\n    })\r\n    setLoading(true)\r\n    apiEditOffer(id, { step: 1 })\r\n    apiCreateOfferParams(id, arr)\r\n      .then((res) => {\r\n        setLoading(false)\r\n        setOffer({ ...offer, categoryOptions: res.data.categoryOptions })\r\n        Router.push('/offers/[id]/photos', `/offers/${id}/photos`, { shallow: true })\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false)\r\n        showNotification('error', err)\r\n      })\r\n  }\r\n\r\n  const disabled = loading\r\n\r\n  return (\r\n    <>\r\n      <Header isReg />\r\n      <ContainerDesktop isOffer>\r\n        <Wrapper p={17} pt={35}>\r\n          {!isLoading ? (\r\n            <>\r\n              <WrapperHeight>\r\n                {step === 1 && (\r\n                  <GreatProgress\r\n                    offer={offer}\r\n                    handleChangeStep={handleChangeStep}\r\n                    loading={loading}\r\n                  />\r\n                )}\r\n              </WrapperHeight>\r\n\r\n              {step !== 1 && (\r\n                <FooterDesktop>\r\n                  <Footer mt={30} flexEnd={step === 1}>\r\n                    {step !== 1 && <Button onClick={() => handleChangeStep(-1)}>Back</Button>}\r\n                    <Button blue onClick={() => handleChangeStep(1)} disabled={disabled}>\r\n                      Next\r\n                    </Button>\r\n                  </Footer>\r\n                </FooterDesktop>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <>Loading...</>\r\n          )}\r\n        </Wrapper>\r\n      </ContainerDesktop>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Params\r\n\r\n"]},"metadata":{},"sourceType":"module"}