{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectDestructuringEmpty from \"@babel/runtime-corejs2/helpers/esm/objectDestructuringEmpty\";\nvar __jsx = React.createElement;\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  text-align: right;\\n  font-size: 13px;\\n  a {\\n    color: rgb(74, 74, 74);\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  font-size: 14px;\\n  line-height: 120%;\\n  color: rgba(0, 0, 0, 0.8);\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: 500;\\n  font-size: 28px;\\n  color: rgba(1, 1, 1, 0.7);\\n  margin-bottom: 10px;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n        width: 15%;\\n        \", \" {\\n          // height: calc(180px * 9 / 16 - 10px);\\n          position: relative;\\n          height: 0;\\n          padding-top: 56.25%;\\n        }\\n      \"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 50%;\\n  padding: 0 10px;\\n\\n  @media \", \" {\\n    //width: 375px;\\n    width: 32%;\\n\\n    \", \" {\\n      //height: calc(375px * 9 / 16 - 10px);\\n      position: relative;\\n      height: 0;\\n      padding-top: 56.25%;\\n    }\\n\\n    margin-bottom: 20px;\\n    \", \"\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  //justify-content: space-between;\\n  flex-wrap: wrap;\\n  margin-top: 10px;\\n  margin: 0 -10px;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  margin-bottom: 50px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport { useAction, useAtom } from '@reatom/react';\nimport Link from 'next/link';\nimport styled, { css } from 'styled-components';\nimport { device } from '../../../lib/mediaDevice';\nimport OfferCardItem from '../../Offer/cards/OfferCardItem';\nimport { apiGetPopularCategories } from '../../../actions/api';\nimport { withReatom } from '../../../lib/withReatom';\nimport { offersAtom } from '../../../features/offers/atoms';\nimport { setListOffersAction } from '../../../features/offers/actions';\nimport { CardItemImgWrapper } from '../cards/styledCard';\n\nvar ListOffersHomepage = function ListOffersHomepage(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  // const [offers, setOffers] = useState([])\n  var _useState = useState(true),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState([]),\n      list = _useState2[0],\n      setList = _useState2[1];\n\n  useEffect(function () {\n    var getList = function getList() {\n      var res;\n      return _regeneratorRuntime.async(function getList$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(apiGetPopularCategories());\n\n            case 2:\n              res = _context.sent;\n              setList(res.data);\n              setLoading(false);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    getList();\n  }, []);\n  if (loading) return __jsx(Wrapper, null, \"loading...\");\n  return __jsx(Wrapper, null, list.map(function (item, key) {\n    if (!item.countOffers) return null;\n    return __jsx(Box, {\n      key: key\n    }, __jsx(TitleCategory, null, item.categories.category, __jsx(LinkBox, null, __jsx(Link, {\n      href: \"/offers/categories?search=\".concat(item.categories.category)\n    }, \"Show all\"))), __jsx(SubTitleCategory, null, \"Bring more joy to your events with circus artists, \", __jsx(\"br\", null), \"explore available offers.\"), __jsx(Flex, null, item.offers.map(function (offer, key2) {\n      return __jsx(Col, {\n        key: key2,\n        is6: key > 2\n      }, __jsx(OfferCardItem, {\n        offer: offer\n      }));\n    })));\n  }));\n};\n\nvar Wrapper = styled.div(_templateObject());\nvar Box = styled.div(_templateObject2());\nvar Flex = styled.div(_templateObject3());\nvar Col = styled.div(_templateObject4(), device.laptopDesktop, CardItemImgWrapper, function (p) {\n  return p.is6 && css(_templateObject5(), CardItemImgWrapper);\n});\nvar TitleCategory = styled.div(_templateObject6());\nvar SubTitleCategory = styled.div(_templateObject7());\nvar LinkBox = styled.div(_templateObject8());\nexport default withReatom(ListOffersHomepage);","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Offer/list/ListOffersHomepage.js"],"names":["React","useState","useEffect","useAction","useAtom","Link","styled","css","device","OfferCardItem","apiGetPopularCategories","withReatom","offersAtom","setListOffersAction","CardItemImgWrapper","ListOffersHomepage","loading","setLoading","list","setList","getList","res","data","map","item","key","countOffers","categories","category","offers","offer","key2","Wrapper","div","Box","Flex","Col","laptopDesktop","p","is6","TitleCategory","SubTitleCategory","LinkBox"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useAction, useAtom } from '@reatom/react'\r\nimport Link from 'next/link'\r\nimport styled, { css } from 'styled-components'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport OfferCardItem from '../../Offer/cards/OfferCardItem'\r\nimport { apiGetPopularCategories } from '../../../actions/api'\r\nimport { withReatom } from '../../../lib/withReatom'\r\nimport { offersAtom } from '../../../features/offers/atoms'\r\nimport { setListOffersAction } from '../../../features/offers/actions'\r\nimport { CardItemImgWrapper } from '../cards/styledCard'\r\n\r\nconst ListOffersHomepage = ({}) => {\r\n  // const [offers, setOffers] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [list, setList] = useState([])\r\n\r\n  useEffect(() => {\r\n    let getList = async () => {\r\n      let res = await apiGetPopularCategories()\r\n      setList(res.data)\r\n      setLoading(false)\r\n    }\r\n\r\n    getList()\r\n  }, [])\r\n\r\n  if (loading) return <Wrapper>loading...</Wrapper>\r\n\r\n  return (\r\n    <Wrapper>\r\n      {list.map((item, key) => {\r\n        if (!item.countOffers) return null\r\n        return (\r\n          <Box key={key}>\r\n            <TitleCategory>\r\n              {item.categories.category}\r\n              <LinkBox>\r\n                <Link href={`/offers/categories?search=${item.categories.category}`}>Show all</Link>\r\n              </LinkBox>\r\n            </TitleCategory>\r\n            <SubTitleCategory>\r\n              Bring more joy to your events with circus artists, <br />\r\n              explore available offers.\r\n            </SubTitleCategory>\r\n            <Flex>\r\n              {item.offers.map((offer, key2) => {\r\n                return (\r\n                  <Col key={key2} is6={key > 2}>\r\n                    <OfferCardItem offer={offer} />\r\n                  </Col>\r\n                )\r\n              })}\r\n            </Flex>\r\n          </Box>\r\n        )\r\n      })}\r\n\r\n      {/*<Box>*/}\r\n      {/*  <TitleCategory>{item.categories.category}</TitleCategory>*/}\r\n      {/*  <SubTitleCategory>*/}\r\n      {/*    Bring more joy to your events with circus artists, <br />*/}\r\n      {/*    explore available offers.*/}\r\n      {/*  </SubTitleCategory>*/}\r\n      {/*  <Flex>*/}\r\n      {/*    {item.offers.map((offer, key) => {*/}\r\n      {/*      return (*/}\r\n      {/*        <Col key={key}>*/}\r\n      {/*          <OfferCardItem offer={offer} />*/}\r\n      {/*        </Col>*/}\r\n      {/*      )*/}\r\n      {/*    })}*/}\r\n      {/*  </Flex>*/}\r\n      {/*  <LinkBox>*/}\r\n      {/*    <Link href={`/offers/categories?category=first-category`}>Show all</Link>*/}\r\n      {/*  </LinkBox>*/}\r\n      {/*</Box>*/}\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nconst Wrapper = styled.div``\r\nconst Box = styled.div`\r\n  margin-bottom: 50px;\r\n`\r\nconst Flex = styled.div`\r\n  display: flex;\r\n  //justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  margin-top: 10px;\r\n  margin: 0 -10px;\r\n`\r\nconst Col = styled.div`\r\n  width: 50%;\r\n  padding: 0 10px;\r\n\r\n  @media ${device.laptopDesktop} {\r\n    //width: 375px;\r\n    width: 32%;\r\n\r\n    ${CardItemImgWrapper} {\r\n      //height: calc(375px * 9 / 16 - 10px);\r\n      position: relative;\r\n      height: 0;\r\n      padding-top: 56.25%;\r\n    }\r\n\r\n    margin-bottom: 20px;\r\n    ${(p) =>\r\n      p.is6 &&\r\n      css`\r\n        width: 15%;\r\n        ${CardItemImgWrapper} {\r\n          // height: calc(180px * 9 / 16 - 10px);\r\n          position: relative;\r\n          height: 0;\r\n          padding-top: 56.25%;\r\n        }\r\n      `}\r\n  }\r\n`\r\n\r\nconst TitleCategory = styled.div`\r\n  font-weight: 500;\r\n  font-size: 28px;\r\n  color: rgba(1, 1, 1, 0.7);\r\n  margin-bottom: 10px;\r\n`\r\nconst SubTitleCategory = styled.div`\r\n  font-size: 14px;\r\n  line-height: 120%;\r\n  color: rgba(0, 0, 0, 0.8);\r\n`\r\nconst LinkBox = styled.div`\r\n  text-align: right;\r\n  font-size: 13px;\r\n  a {\r\n    color: rgb(74, 74, 74);\r\n  }\r\n`\r\n\r\nexport default withReatom(ListOffersHomepage)\r\n"]},"metadata":{},"sourceType":"module"}