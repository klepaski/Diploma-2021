{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { MainContext, MainConsumer } from '../contextProviders/MainContext';\nimport styled from 'styled-components';\nimport { device } from '../../lib/mediaDevice';\nimport { Wrapper } from '../StyledComponents/Wrapper';\nimport { Button } from '../controls/Button/Button';\nimport { Divider } from '../StyledComponents/Divider';\nimport { Close } from '../StyledComponents/Icon';\nimport { FlexBlock } from '../StyledComponents/FlexBlock';\nimport { Text, ServerError } from '../StyledComponents/Text';\nimport { Input } from '../controls/Input/Input';\nimport { CheckboxWithLabel } from '../controls/Checkbox/Checkbox';\nimport DatePicker from '../controls/DateTimePickers/Datepicker';\nimport validate from '../../utils/validation';\nimport { hasError } from '../../utils/utils';\nimport { showNotification } from '../../utils/notification';\nimport { Router } from '../../routes';\nimport { OnlyMobile, OnlyDesktop } from '../StyledComponents/Grid';\nimport { apiCreateUser } from '../../actions/api';\n\nvar RegEmail = function RegEmail(_ref) {\n  var setView = _ref.setView;\n  var defaultUserData = {\n    email: '',\n    firstName: '',\n    lastName: '',\n    password: '',\n    birthday: null,\n    offerId: localStorage.getItem('ioid')\n  };\n\n  var _useState = useState(defaultUserData),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState({}),\n      errors = _useState2[0],\n      setErorrs = _useState2[1];\n\n  var _useState3 = useState(false),\n      checked = _useState3[0],\n      setCheck = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var _useState5 = useState(false),\n      serverError = _useState5[0],\n      setServerError = _useState5[1];\n\n  var _useState6 = useState('initial'),\n      data = _useState6[0],\n      setData = _useState6[1];\n\n  console.log('user', user);\n\n  var onChange = function onChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value,\n        required = _e$target.required;\n    if (name === 'email' || name === 'password') value = value.trim();\n    setUser(function (user) {\n      return _objectSpread({}, user, _defineProperty({}, name, value));\n    });\n    var error = validate(name, value, required);\n    setErorrs(function (errors) {\n      return _objectSpread({}, errors, _defineProperty({}, name, error));\n    });\n  };\n\n  var onChangeBirthday = function onChangeBirthday(birthday) {\n    setUser(function (user) {\n      return _objectSpread({}, user, {\n        birthday: birthday\n      });\n    });\n  };\n\n  var handleSubmit = function handleSubmit() {\n    setLoading(true);\n\n    var clone = _objectSpread({}, user, {\n      email: user.email.toLowerCase()\n    });\n\n    apiCreateUser(clone).then(function (res) {\n      showNotification('info', \"Check your mail \".concat(user.email, \" to activate account\"));\n      localStorage.removeItem('ioid');\n      Router.pushRoute('/login');\n    })[\"catch\"](function (err) {\n      setLoading(false);\n      showNotification('error', err);\n    });\n  };\n\n  var disabled = hasError(errors) || !user.email || !user.firstName || !user.lastName || !user.password;\n  return __jsx(React.Fragment, null, __jsx(OnlyMobile, null, __jsx(Wrapper, {\n    mb: 35\n  }, __jsx(Close, {\n    onClick: function onClick() {\n      return setView(false);\n    }\n  }))), __jsx(Wrapper, {\n    textCenter: true,\n    mb: 20\n  }, \"Sign up with\\xA0\", __jsx(Link, {\n    href: '/registration'\n  }, __jsx(\"a\", null, \"Facebook\")), \"\\xA0or\\xA0\", __jsx(Link, {\n    href: '/registration'\n  }, __jsx(\"a\", null, \"Google\"))), __jsx(FlexBlock, {\n    mb: 20\n  }, __jsx(Divider, {\n    grey: true,\n    full: true\n  }), __jsx(Text, {\n    fz: 15\n  }, \"or\"), __jsx(Divider, {\n    grey: true,\n    full: true\n  })), __jsx(Input, {\n    value: user.email,\n    name: 'email',\n    onChange: onChange,\n    error: errors.email,\n    placeholder: \"Email address\",\n    required: true,\n    mb: '5px',\n    fz: 15\n  }), __jsx(Input, {\n    value: user.firstName,\n    name: 'firstName',\n    onChange: onChange,\n    error: errors.firstName,\n    placeholder: \"First name\",\n    required: true,\n    mb: '5px',\n    fz: 15\n  }), __jsx(Input, {\n    value: user.lastName,\n    name: \"lastName\",\n    onChange: onChange,\n    error: errors.lastName,\n    placeholder: \"Last name\",\n    required: true,\n    fz: 15,\n    mb: '5px'\n  }), __jsx(Input, {\n    value: user.password,\n    name: \"password\",\n    type: \"password\",\n    onChange: onChange,\n    error: errors.password,\n    required: true,\n    placeholder: \"Create a password\",\n    fz: 15\n  }), __jsx(Text, {\n    mt: 15,\n    fz: 15,\n    bold: true\n  }, \"Birthday\"), __jsx(Text, null, \"To sign up, you must be 18 or older. Other people won\\u2019t see your birthday.\"), __jsx(Wrapper, {\n    mt: 20,\n    mb: 20,\n    width100: true\n  }, __jsx(DatePicker, {\n    selected: user.birthday,\n    name: \"birthday\",\n    maxDate: new Date(new Date().setFullYear(new Date().getFullYear() - 18)),\n    onChange: onChangeBirthday,\n    withPortal: true,\n    showYearDropdown: true,\n    dateFormat: \"dd/MM/yyyy\"\n  })), __jsx(Text, {\n    mb: 20\n  }, \"We\\u2019ll send you marketing promotions, special offers, inspiration, and policy updates via email.\"), __jsx(Button, {\n    green: true,\n    disabled: disabled,\n    loading: loading,\n    onClick: handleSubmit\n  }, \"Create account\"), __jsx(ServerError, null, serverError), __jsx(Wrapper, {\n    mt: 22\n  }, __jsx(CheckboxWithLabel, {\n    checked: checked,\n    onChange: function onChange() {\n      return setCheck(!checked);\n    },\n    label: 'I don’t want to receive marketing messages from Programmerbooking. I understand that I can also subscribe to these emails at any time in my account settings.'\n  })), __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: 20,\n    mb: 15\n  }), __jsx(FlexBlock, {\n    right: true\n  }, __jsx(Text, {\n    pr: 15\n  }, \"Already signed up?\"), __jsx(Link, {\n    href: '/login'\n  }, __jsx(Text, {\n    isLink: true\n  }, \"Log in\"))));\n};\n\nexport default RegEmail;","map":{"version":3,"sources":["D:/4/диплом/webapp/components/Auth/RegEmail.js"],"names":["React","useState","useEffect","Link","MainContext","MainConsumer","styled","device","Wrapper","Button","Divider","Close","FlexBlock","Text","ServerError","Input","CheckboxWithLabel","DatePicker","validate","hasError","showNotification","Router","OnlyMobile","OnlyDesktop","apiCreateUser","RegEmail","setView","defaultUserData","email","firstName","lastName","password","birthday","offerId","localStorage","getItem","user","setUser","errors","setErorrs","checked","setCheck","loading","setLoading","serverError","setServerError","data","setData","console","log","onChange","e","target","name","value","required","trim","error","onChangeBirthday","handleSubmit","clone","toLowerCase","then","res","removeItem","pushRoute","err","disabled","Date","setFullYear","getFullYear"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Link from 'next/link'\r\nimport { MainContext, MainConsumer } from '../contextProviders/MainContext'\r\nimport styled from 'styled-components'\r\nimport { device } from '../../lib/mediaDevice'\r\nimport { Wrapper } from '../StyledComponents/Wrapper'\r\nimport { Button } from '../controls/Button/Button'\r\nimport { Divider } from '../StyledComponents/Divider'\r\nimport { Close } from '../StyledComponents/Icon'\r\nimport { FlexBlock } from '../StyledComponents/FlexBlock'\r\nimport { Text, ServerError } from '../StyledComponents/Text'\r\nimport { Input } from '../controls/Input/Input'\r\nimport { CheckboxWithLabel } from '../controls/Checkbox/Checkbox'\r\nimport DatePicker from '../controls/DateTimePickers/Datepicker'\r\nimport validate from '../../utils/validation'\r\nimport { hasError } from '../../utils/utils'\r\nimport { showNotification } from '../../utils/notification'\r\nimport { Router } from '../../routes'\r\nimport { OnlyMobile, OnlyDesktop } from '../StyledComponents/Grid'\r\n\r\nimport { apiCreateUser } from '../../actions/api'\r\n\r\nconst RegEmail = ({ setView }) => {\r\n  const defaultUserData = {\r\n    email: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    password: '',\r\n    birthday: null,\r\n    offerId: localStorage.getItem('ioid'),\r\n  }\r\n  const [user, setUser] = useState(defaultUserData)\r\n  const [errors, setErorrs] = useState({})\r\n  const [checked, setCheck] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n  const [serverError, setServerError] = useState(false)\r\n  const [data, setData] = useState('initial')\r\n\r\n  console.log('user', user)\r\n\r\n  const onChange = (e) => {\r\n    let { name, value, required } = e.target\r\n    if (name === 'email' || name === 'password') value = value.trim()\r\n    setUser((user) => ({ ...user, [name]: value }))\r\n    let error = validate(name, value, required)\r\n    setErorrs((errors) => ({ ...errors, [name]: error }))\r\n  }\r\n  const onChangeBirthday = (birthday) => {\r\n    setUser((user) => ({ ...user, birthday: birthday }))\r\n  }\r\n  const handleSubmit = () => {\r\n    setLoading(true)\r\n    let clone = { ...user, email: user.email.toLowerCase() }\r\n    apiCreateUser(clone)\r\n      .then((res) => {\r\n        showNotification('info', `Check your mail ${user.email} to activate account`)\r\n        localStorage.removeItem('ioid')\r\n        Router.pushRoute('/login')\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false)\r\n        showNotification('error', err)\r\n      })\r\n  }\r\n\r\n  let disabled =\r\n    hasError(errors) || !user.email || !user.firstName || !user.lastName || !user.password\r\n\r\n  return (\r\n    <>\r\n      <OnlyMobile>\r\n        <Wrapper mb={35}>\r\n          <Close onClick={() => setView(false)} />\r\n        </Wrapper>\r\n      </OnlyMobile>\r\n\r\n      <Wrapper textCenter mb={20}>\r\n        Sign up with&nbsp;\r\n        <Link href={'/registration'}>\r\n          <a>Facebook</a>\r\n        </Link>\r\n        &nbsp;or&nbsp;\r\n        <Link href={'/registration'}>\r\n          <a>Google</a>\r\n        </Link>\r\n      </Wrapper>\r\n      <FlexBlock mb={20}>\r\n        <Divider grey full />\r\n        <Text fz={15}>or</Text>\r\n        <Divider grey full />\r\n      </FlexBlock>\r\n      <Input\r\n        value={user.email}\r\n        name={'email'}\r\n        onChange={onChange}\r\n        error={errors.email}\r\n        placeholder=\"Email address\"\r\n        required\r\n        mb={'5px'}\r\n        fz={15}\r\n      />\r\n      <Input\r\n        value={user.firstName}\r\n        name={'firstName'}\r\n        onChange={onChange}\r\n        error={errors.firstName}\r\n        placeholder=\"First name\"\r\n        required\r\n        mb={'5px'}\r\n        fz={15}\r\n      />\r\n      <Input\r\n        value={user.lastName}\r\n        name=\"lastName\"\r\n        onChange={onChange}\r\n        error={errors.lastName}\r\n        placeholder=\"Last name\"\r\n        required\r\n        fz={15}\r\n        mb={'5px'}\r\n      />\r\n      <Input\r\n        value={user.password}\r\n        name=\"password\"\r\n        type=\"password\"\r\n        onChange={onChange}\r\n        error={errors.password}\r\n        required\r\n        placeholder=\"Create a password\"\r\n        fz={15}\r\n      />\r\n\r\n      <Text mt={15} fz={15} bold>\r\n        Birthday\r\n      </Text>\r\n      <Text>To sign up, you must be 18 or older. Other people won’t see your birthday.</Text>\r\n\r\n      <Wrapper mt={20} mb={20} width100>\r\n        <DatePicker\r\n          selected={user.birthday}\r\n          name=\"birthday\"\r\n          maxDate={new Date(new Date().setFullYear(new Date().getFullYear() - 18))}\r\n          onChange={onChangeBirthday}\r\n          withPortal\r\n          showYearDropdown\r\n          dateFormat=\"dd/MM/yyyy\"\r\n        />\r\n      </Wrapper>\r\n\r\n      <Text mb={20}>\r\n        We’ll send you marketing promotions, special offers, inspiration, and policy updates via\r\n        email.\r\n      </Text>\r\n      <Button green disabled={disabled} loading={loading} onClick={handleSubmit}>\r\n        Create account\r\n      </Button>\r\n      <ServerError>{serverError}</ServerError>\r\n\r\n      <Wrapper mt={22}>\r\n        <CheckboxWithLabel\r\n          checked={checked}\r\n          onChange={() => setCheck(!checked)}\r\n          label={\r\n            'I don’t want to receive marketing messages from Programmerbooking. I understand that I can also subscribe to these emails at any time in my account settings.'\r\n          }\r\n        />\r\n      </Wrapper>\r\n\r\n      <Divider grey full mt={20} mb={15} />\r\n\r\n      <FlexBlock right>\r\n        <Text pr={15}>Already signed up?</Text>\r\n        <Link href={'/login'}>\r\n          <Text isLink>Log in</Text>\r\n        </Link>\r\n      </FlexBlock>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default RegEmail\r\n"]},"metadata":{},"sourceType":"module"}