{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext, useRef } from 'react';\nimport Link from \"next/link\";\nimport useOnClickOutside from 'use-onclickoutside';\nimport { MainContext, MainConsumer } from \"../contextProviders/MainContext\";\nimport { SidebarWrapper, SidebarItem, SidebarHeaderHome, HeaderWrapper } from './styledHeader';\nimport { Divider } from '../StyledComponents/Divider';\nimport { FlexBlock } from \"../StyledComponents/FlexBlock\";\nimport { Bars, Close, Logo } from \"../StyledComponents/Icon\";\nimport { SubTitle } from \"../StyledComponents/Text\";\nimport { logout } from \"../../utils/auth\";\nimport Router from \"next/router\";\nimport { Wrapper } from \"../StyledComponents/Wrapper\";\nimport styled from \"styled-components\";\nimport { useDetectDevice } from \"../../lib/useDetectDevice\";\n\nconst Sidebar = ({\n  isHomepage,\n  toggleSidebar,\n  hideSidebar,\n  logout\n}) => {\n  const {\n    me,\n    setMe,\n    unreadMessages\n  } = useContext(MainContext);\n  const currentDevice = useDetectDevice();\n\n  const handleDelayClose = () => {\n    setTimeout(() => {\n      toggleSidebar();\n    }, 100);\n  };\n\n  const ref = useRef(null);\n  useOnClickOutside(ref, hideSidebar);\n  return __jsx(SidebarWrapper, {\n    ref: currentDevice.isLaptopDesktop ? ref : null,\n    className: \"sidebar-is-opened\",\n    isHomepage: true\n  }, isHomepage && __jsx(SidebarHeaderHome, null, __jsx(\"div\", null), __jsx(Close, {\n    onClick: toggleSidebar\n  })), __jsx(\"div\", {\n    onClick: () => handleDelayClose()\n  }, __jsx(Link, {\n    href: '/'\n  }, __jsx(SidebarItem, null, \"Home\")), me.id ? __jsx(React.Fragment, null, __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(Link, {\n    href: '/profile/edit'\n  }, __jsx(SidebarItem, null, \"Profile\")), __jsx(Link, {\n    href: '/profile/settings'\n  }, __jsx(SidebarItem, null, \"Account settings\")), __jsx(Link, {\n    href: '/profile/offers'\n  }, __jsx(SidebarItem, null, \"My offers\")), __jsx(Link, {\n    href: '/inbox'\n  }, __jsx(SidebarItem, null, \"Messages\", !!unreadMessages && __jsx(UnreadMessagesContainer, null, __jsx(UnreadMessages, null, unreadMessages)))), __jsx(Link, {\n    href: '/profile/wish-list'\n  }, __jsx(SidebarItem, null, \"Wishlist\")), __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(SidebarItem, {\n    onClick: logout\n  }, \"Logout\")) : __jsx(React.Fragment, null, __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(Link, {\n    href: \"/login\",\n    as: '/login'\n  }, __jsx(SidebarItem, null, \"Login\")))));\n};\n\nexport default Sidebar;\nconst UnreadMessagesContainer = styled.div`\n  display: inline-block;\n  margin-left: 5px;\n`;\nconst UnreadMessages = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #00C874;\n  height: 23px;\n  width: 23px;\n  border-radius: 50%;\n  font-size: 14px;\n`;","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Header/Sidebar.js"],"names":["React","useState","useContext","useRef","Link","useOnClickOutside","MainContext","MainConsumer","SidebarWrapper","SidebarItem","SidebarHeaderHome","HeaderWrapper","Divider","FlexBlock","Bars","Close","Logo","SubTitle","logout","Router","Wrapper","styled","useDetectDevice","Sidebar","isHomepage","toggleSidebar","hideSidebar","me","setMe","unreadMessages","currentDevice","handleDelayClose","setTimeout","ref","isLaptopDesktop","id","UnreadMessagesContainer","div","UnreadMessages"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useRef} from 'react';\r\nimport Link from \"next/link\";\r\nimport useOnClickOutside from 'use-onclickoutside'\r\nimport {MainContext, MainConsumer} from \"../contextProviders/MainContext\";\r\nimport {SidebarWrapper, SidebarItem, SidebarHeaderHome, HeaderWrapper} from './styledHeader'\r\nimport {Divider} from '../StyledComponents/Divider'\r\nimport {FlexBlock} from \"../StyledComponents/FlexBlock\";\r\nimport {Bars, Close, Logo} from \"../StyledComponents/Icon\";\r\nimport {SubTitle} from \"../StyledComponents/Text\";\r\nimport {logout} from \"../../utils/auth\";\r\nimport Router from \"next/router\";\r\nimport {Wrapper} from \"../StyledComponents/Wrapper\";\r\nimport styled from \"styled-components\";\r\nimport {useDetectDevice} from \"../../lib/useDetectDevice\";\r\n\r\n\r\nconst Sidebar = ({isHomepage, toggleSidebar, hideSidebar, logout}) => {\r\n    const {me, setMe, unreadMessages} = useContext(MainContext)\r\n    const currentDevice = useDetectDevice()\r\n\r\n    const handleDelayClose = () => {\r\n        setTimeout(() => {\r\n            toggleSidebar()\r\n        }, 100)\r\n    }\r\n\r\n    const ref = useRef(null)\r\n    useOnClickOutside(ref, hideSidebar)\r\n\r\n    return (\r\n        <SidebarWrapper ref={currentDevice.isLaptopDesktop ? ref : null} className='sidebar-is-opened' isHomepage>\r\n            {isHomepage &&\r\n            <SidebarHeaderHome>\r\n                <div>\r\n                    {/*<Logo/>*/}\r\n                    {/*<Bars onClick={toggleSidebar} />*/}\r\n                </div>\r\n                <Close onClick={toggleSidebar} />\r\n                {/*{!me.id ?*/}\r\n                {/*    <Link href=\"/registration\">*/}\r\n                {/*        <SubTitle>Sign up</SubTitle>*/}\r\n                {/*    </Link>*/}\r\n                {/*    :*/}\r\n                {/*    <SubTitle onClick={logout}>Logout</SubTitle>*/}\r\n                {/*}*/}\r\n            </SidebarHeaderHome>\r\n            }\r\n\r\n            <div onClick={() => handleDelayClose()}>\r\n                <Link href={'/'}>\r\n                    <SidebarItem>Home</SidebarItem>\r\n                </Link>\r\n\r\n                {me.id ?\r\n                <>\r\n                    <Divider grey full mt={'5px'} mb={20} />\r\n                    <Link href={'/profile/edit'}>\r\n                        <SidebarItem>Profile</SidebarItem>\r\n                    </Link>\r\n                    <Link href={'/profile/settings'}>\r\n                        <SidebarItem>Account settings</SidebarItem>\r\n                    </Link>\r\n                    {/*<Link href={''}>*/}\r\n                    {/*    <SidebarItem isNoActive >Orders</SidebarItem>*/}\r\n                    {/*</Link>*/}\r\n\r\n                    <Link href={'/profile/offers'}>\r\n                        <SidebarItem>My offers</SidebarItem>\r\n                    </Link>\r\n\r\n                    <Link href={'/inbox'}>\r\n                        <SidebarItem>\r\n                            Messages\r\n                            {!!unreadMessages && <UnreadMessagesContainer>\r\n                                <UnreadMessages>{unreadMessages}</UnreadMessages>\r\n                            </UnreadMessagesContainer>}\r\n                        </SidebarItem>\r\n                    </Link>\r\n                    <Link href={'/profile/wish-list'}>\r\n                        <SidebarItem >Wishlist</SidebarItem>\r\n                    </Link>\r\n                    {/*<SidebarItem></SidebarItem>*/}\r\n\r\n                    {/*<Link href={''}>*/}\r\n                    {/*    <SidebarItem>Switch to Client</SidebarItem>*/}\r\n                    {/*</Link>*/}\r\n                    {/*<Divider grey full mt={'5px'} mb={20} />*/}\r\n\r\n                    <Divider grey full mt={'5px'} mb={20} />\r\n                    <SidebarItem onClick={logout}>Logout</SidebarItem>\r\n                </>\r\n                    :\r\n                    <>\r\n                        <Divider grey full mt={'5px'} mb={20} />\r\n                        <Link href=\"/login\" as={'/login'}>\r\n                            <SidebarItem>Login</SidebarItem>\r\n                        </Link>\r\n\r\n                    </>\r\n                }\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </SidebarWrapper>\r\n\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n\r\n\r\nconst UnreadMessagesContainer = styled.div`\r\n  display: inline-block;\r\n  margin-left: 5px;\r\n`;\r\nconst UnreadMessages = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #00C874;\r\n  height: 23px;\r\n  width: 23px;\r\n  border-radius: 50%;\r\n  font-size: 14px;\r\n`;"]},"metadata":{},"sourceType":"module"}