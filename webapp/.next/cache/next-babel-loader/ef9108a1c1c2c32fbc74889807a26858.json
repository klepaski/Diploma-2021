{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Link from \"next/link\";\nimport { sortable } from 'react-sortable';\nimport moment from \"moment/moment\";\nimport { MainContext, MainConsumer } from \"../../contextProviders/MainContext\";\nimport styled, { css } from 'styled-components';\nimport { device } from '../../../lib/mediaDevice';\nimport { WrapLine, LeftText, RightText } from './styled';\nimport { Button } from \"../../controls/Button/Button\";\nimport { CoverPhotoPreview, PhotoItem } from '../../Photo/Photo';\nimport EditPhoto from '../../Photo/EditPhoto';\nimport { Footer } from \"../../Layouts/styledLayouts\";\nimport { Container, Row, Column } from '../../StyledComponents/Grid';\nimport UploadBtn from '../../controls/Upload/UploadBtn';\nimport { Text } from \"../../StyledComponents/Text\";\nimport { FlexBlock } from \"../../StyledComponents/FlexBlock\";\nimport './photo.css';\nimport { ButtonWithIcon } from \"../../controls/Button/ButtonWithIcon\";\nimport { modifySrc } from \"../../../utils/modifySrc\";\n\nconst Photos = ({\n  photos,\n  cover,\n  onDrop,\n  setEditablePhoto,\n  setStep,\n  typeDefaultCover,\n  handleDeleteAll,\n  isDeletingAll,\n  isHiddenDeleting,\n  uploading\n}) => {\n  const preonDrop = files => {\n    onDrop(files);\n  };\n\n  let avatarUrl = '',\n      avatar = photos.find(item => item.id === cover);\n\n  if (avatar && avatar.id) {\n    avatarUrl = avatar.photoUrl;\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Flex, null, __jsx(FlexLeft, null, !!photos.length && __jsx(React.Fragment, null, __jsx(WrapLine, {\n    mt: 50,\n    mb: 15\n  }, __jsx(LeftText, null, \"Cover photo\"), __jsx(RightText, {\n    onClick: () => setStep(3)\n  }, \"Change\")), __jsx(CoverPhotoPreview, {\n    src: avatar && avatar.preview ? avatar.preview : modifySrc(avatarUrl, typeDefaultCover ? typeDefaultCover : 'offer')\n  })), __jsx(UploadBtn, {\n    Btn: __jsx(Button, {\n      blue: true,\n      inline: true,\n      disabled: uploading\n    }, uploading ? 'uploading' : 'Add more photos'),\n    onDropFiles: preonDrop,\n    multiple: true\n  })), __jsx(FlexRight, null, __jsx(WrapLine, {\n    mt: 50,\n    mb: 15\n  }, !!photos.length && __jsx(FlexBlock, {\n    verticalcenter: true\n  }, __jsx(Text, {\n    fz: 20\n  }, \"Photos\", __jsx(\"span\", {\n    className: 'tip-photo-edit'\n  }, \"(click to edit)\")), !isHiddenDeleting && __jsx(\"div\", {\n    className: \"edit-photo-delete-item\"\n  }, isDeletingAll ? __jsx(\"span\", null, \"deleting...\") : __jsx(\"span\", {\n    onClick: () => handleDeleteAll()\n  }, \"delete all photos\")))), __jsx(Box, null, __jsx(Row, null, photos.map((item, key) => {\n    return __jsx(Column, {\n      xs: 6,\n      key: key\n    }, __jsx(PhotoItem, {\n      src: item.preview ? item.preview : modifySrc(item.photoUrl),\n      onClick: () => setEditablePhoto(item, key)\n    }));\n  }))))));\n};\n\nexport default Photos;\nconst FlexLeft = styled.div``;\nconst FlexRight = styled.div``;\nconst Flex = styled.div`\n  @media ${device.laptopDesktop} {\n    display: flex;\n\n    ${FlexLeft} {\n      width: 30%;\n      padding-right: 20px;\n      \n      button {\n        margin-top: 20px;\n      }\n    }\n\n    ${FlexRight} {\n      width: 70%;\n      padding-left: 20px;\n    }\n  }\n`;\nconst Box = styled.div`\n    @media ${device.laptopDesktop} {\n      ${Column} {\n        margin-bottom: 10px;\n        \n        > div {\n            border: 1px solid #dcdcdc;\n        }\n      }\n    }\n`;","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/photos/Photos.js"],"names":["React","useState","useContext","Link","sortable","moment","MainContext","MainConsumer","styled","css","device","WrapLine","LeftText","RightText","Button","CoverPhotoPreview","PhotoItem","EditPhoto","Footer","Container","Row","Column","UploadBtn","Text","FlexBlock","ButtonWithIcon","modifySrc","Photos","photos","cover","onDrop","setEditablePhoto","setStep","typeDefaultCover","handleDeleteAll","isDeletingAll","isHiddenDeleting","uploading","preonDrop","files","avatarUrl","avatar","find","item","id","photoUrl","length","preview","map","key","FlexLeft","div","FlexRight","Flex","laptopDesktop","Box"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Link from \"next/link\";\r\nimport { sortable } from 'react-sortable';\r\nimport moment from \"moment/moment\";\r\nimport { MainContext, MainConsumer } from \"../../contextProviders/MainContext\"\r\nimport styled, { css } from 'styled-components'\r\nimport { device } from '../../../lib/mediaDevice'\r\nimport {WrapLine, LeftText, RightText} from './styled'\r\nimport {Button} from \"../../controls/Button/Button\";\r\nimport {CoverPhotoPreview, PhotoItem} from '../../Photo/Photo'\r\nimport EditPhoto from '../../Photo/EditPhoto'\r\nimport {Footer} from \"../../Layouts/styledLayouts\";\r\nimport {Container, Row, Column} from '../../StyledComponents/Grid'\r\nimport UploadBtn from '../../controls/Upload/UploadBtn'\r\nimport {Text} from \"../../StyledComponents/Text\";\r\nimport {FlexBlock} from \"../../StyledComponents/FlexBlock\";\r\n\r\nimport './photo.css'\r\nimport {ButtonWithIcon} from \"../../controls/Button/ButtonWithIcon\";\r\nimport {modifySrc} from \"../../../utils/modifySrc\";\r\n\r\n\r\nconst Photos = ({photos, cover, onDrop, setEditablePhoto, setStep, typeDefaultCover, handleDeleteAll, isDeletingAll, isHiddenDeleting, uploading}) => {\r\n    const preonDrop = (files) => {\r\n        onDrop(files)\r\n    }\r\n    let avatarUrl = '',\r\n        avatar = photos.find(item => item.id === cover);\r\n    if(avatar && avatar.id) {\r\n        avatarUrl = avatar.photoUrl\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Flex>\r\n                <FlexLeft>\r\n                    {!!photos.length &&\r\n                    <>\r\n                        <WrapLine mt={50} mb={15}>\r\n                            <LeftText>Cover photo</LeftText>\r\n                            <RightText onClick={() => setStep(3)}>Change</RightText>\r\n                        </WrapLine>\r\n\r\n                        <CoverPhotoPreview src={(avatar && avatar.preview) ? avatar.preview : modifySrc(avatarUrl, typeDefaultCover ? typeDefaultCover : 'offer')}/>\r\n                    </>\r\n                    }\r\n\r\n                    <UploadBtn\r\n                        Btn={<Button blue inline disabled={uploading} >{uploading ? 'uploading' : 'Add more photos'}</Button>}\r\n                        onDropFiles={preonDrop}\r\n                        multiple={true}\r\n                    />\r\n                </FlexLeft>\r\n                <FlexRight>\r\n                    <WrapLine mt={50} mb={15} >\r\n                        {!!photos.length &&\r\n                        <FlexBlock verticalcenter>\r\n                            <Text fz={20}>\r\n                                Photos\r\n                                <span className={'tip-photo-edit'}>(click to edit)</span>\r\n                            </Text>\r\n\r\n                            {!isHiddenDeleting &&\r\n                            <div className='edit-photo-delete-item'>\r\n                                {isDeletingAll ?\r\n                                    <span>deleting...</span>\r\n                                    :\r\n                                    <span onClick={() => handleDeleteAll()}>delete all photos</span>\r\n\r\n                                }\r\n                            </div>\r\n                            }\r\n\r\n                        </FlexBlock>\r\n                        }\r\n                    </WrapLine>\r\n\r\n                    <Box>\r\n                        <Row>\r\n                            {photos.map((item, key) => {\r\n                                return (\r\n                                    <Column xs={6} key={key} >\r\n                                        <PhotoItem\r\n                                            src={item.preview ? item.preview : modifySrc(item.photoUrl)}\r\n                                            onClick={() => setEditablePhoto(item, key)}\r\n                                        />\r\n                                    </Column>\r\n                                )\r\n                            })}\r\n                        </Row>\r\n                    </Box>\r\n\r\n                </FlexRight>\r\n            </Flex>\r\n\r\n            {/*<SortableList ref={(sortedList) => {this.sortedList = sortedList}} items={photos} onRemove={this.onRemove}/>*/}\r\n\r\n        </>\r\n    );\r\n\r\n}\r\n\r\nexport default Photos;\r\n\r\nconst FlexLeft = styled.div``\r\nconst FlexRight = styled.div``\r\n\r\nconst Flex = styled.div`\r\n  @media ${device.laptopDesktop} {\r\n    display: flex;\r\n\r\n    ${FlexLeft} {\r\n      width: 30%;\r\n      padding-right: 20px;\r\n      \r\n      button {\r\n        margin-top: 20px;\r\n      }\r\n    }\r\n\r\n    ${FlexRight} {\r\n      width: 70%;\r\n      padding-left: 20px;\r\n    }\r\n  }\r\n`\r\n\r\nconst Box = styled.div`\r\n    @media ${device.laptopDesktop} {\r\n      ${Column} {\r\n        margin-bottom: 10px;\r\n        \r\n        > div {\r\n            border: 1px solid #dcdcdc;\r\n        }\r\n      }\r\n    }\r\n`\r\n"]},"metadata":{},"sourceType":"module"}