{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext, useEffect, useMemo } from 'react';\nimport { Label } from \"./../../Layouts/styledLayouts\";\nimport { Input, TextArea } from \"../../controls/Input/Input\";\nimport { Tab } from \"../../controls/Tabs/Tabs\";\nimport Select from \"../../controls/Select/Select\";\nimport { Button } from \"../../controls/Button/Button\";\nimport { addOrRemove, isIncludesThisId } from \"../../../utils/utils\"; // import {listCountries} from \"../../../utils/countriesLanguages\";\n\nvar listCountries = [{\n  value: 'United Arab Emirates',\n  label: 'United Arab Emirates'\n}, {\n  value: 'Saudi Arabia',\n  label: 'Saudi Arabia'\n}];\nexport default (function (_ref) {\n  var offer = _ref.offer,\n      onChange = _ref.onChange,\n      listCategories = _ref.listCategories,\n      listEventTypes = _ref.listEventTypes,\n      isLoading = _ref.isLoading,\n      onSave = _ref.onSave;\n\n  var _useState = useState([]),\n      listSubCategories = _useState[0],\n      setListSubCategories = _useState[1];\n\n  var listParentCategories = useMemo(function () {\n    return listCategories.filter(function (item) {\n      return !item.parentCategory;\n    });\n  }, [listCategories]);\n  if (!offer.summary) offer.summary = '';\n  useEffect(function () {\n    listCategories.map(function (item) {\n      if (item.id === offer.category.id) {\n        setActiveCategory(item);\n      }\n    });\n  }, []);\n\n  var setActiveCategory = function setActiveCategory(category) {\n    onChange({\n      target: {\n        name: 'category',\n        value: category\n      }\n    });\n    var listSubc = listCategories.filter(function (item) {\n      return item.parentCategory && item.parentCategory.id === category.id;\n    });\n    setListSubCategories(listSubc);\n    setActiveSubCategory({});\n  };\n\n  var setActiveSubCategory = function setActiveSubCategory(subCategory) {\n    onChange({\n      target: {\n        name: 'subCategory',\n        value: subCategory\n      }\n    });\n  };\n\n  var handleChangeCountry = function handleChangeCountry(country) {\n    onChange({\n      target: {\n        name: 'country',\n        value: country\n      }\n    });\n  };\n\n  var toggleItem = function toggleItem(item) {\n    var arr = addOrRemove(offer.type, item);\n    onChange({\n      target: {\n        name: 'type',\n        value: arr\n      }\n    });\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Label, null, \"Name your offer\"), __jsx(Input, {\n    name: \"name\",\n    value: offer.name,\n    onChange: onChange,\n    mb: 30,\n    placeholder: \"Ex.: Singing opera\"\n  }), __jsx(Label, null, \"Add a short summary of the offer\"), __jsx(TextArea, {\n    name: \"summary\",\n    value: offer.summary,\n    onChange: onChange,\n    height: 95,\n    count: offer.summary ? offer.summary.length : '',\n    placeholder: \"Ex.: Singing rock opera covers of the hits \"\n  }), __jsx(Label, {\n    mt: 20\n  }, \"What is the category of your programmer?\"), listParentCategories.length ? __jsx(React.Fragment, null, listParentCategories.map(function (item, key) {\n    return __jsx(Tab, {\n      key: key,\n      title: item.category,\n      onClick: function onClick() {\n        return setActiveCategory(item);\n      },\n      active: item.id == offer.category.id\n    });\n  })) : __jsx(React.Fragment, null, __jsx(\"div\", null, \"Loading...\")), offer.category.id && !!listSubCategories.length && __jsx(React.Fragment, null, __jsx(Label, {\n    mt: 40\n  }, \"Choose the technology/language you use\"), listSubCategories.map(function (item, key) {\n    return __jsx(Tab, {\n      key: key,\n      title: item.category,\n      onClick: function onClick() {\n        return setActiveSubCategory(item);\n      },\n      active: item.id == offer.subCategory.id\n    });\n  })), __jsx(Button, {\n    green: true,\n    loading: isLoading,\n    onClick: onSave,\n    mt: 70\n  }, \"Save\"));\n});","map":{"version":3,"sources":["D:/4/диплом/webapp — копия/components/Offer/edit/Main.js"],"names":["React","useState","useContext","useEffect","useMemo","Label","Input","TextArea","Tab","Select","Button","addOrRemove","isIncludesThisId","listCountries","value","label","offer","onChange","listCategories","listEventTypes","isLoading","onSave","listSubCategories","setListSubCategories","listParentCategories","filter","item","parentCategory","summary","map","id","category","setActiveCategory","target","name","listSubc","setActiveSubCategory","subCategory","handleChangeCountry","country","toggleItem","arr","type","length","key"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect, useMemo} from 'react';\r\n\r\nimport {Label} from \"./../../Layouts/styledLayouts\";\r\nimport {Input, TextArea} from \"../../controls/Input/Input\";\r\nimport {Tab} from \"../../controls/Tabs/Tabs\";\r\nimport Select from \"../../controls/Select/Select\";\r\nimport {Button} from \"../../controls/Button/Button\";\r\nimport {addOrRemove, isIncludesThisId} from \"../../../utils/utils\";\r\n\r\n// import {listCountries} from \"../../../utils/countriesLanguages\";\r\nconst listCountries = [\r\n    {value: 'United Arab Emirates', label: 'United Arab Emirates'},\r\n    {value: 'Saudi Arabia', label: 'Saudi Arabia'}\r\n]\r\n\r\nexport default ({offer, onChange, listCategories, listEventTypes, isLoading, onSave}) => {\r\n    const [listSubCategories, setListSubCategories] = useState([])\r\n    const listParentCategories = useMemo(() => listCategories.filter(item => !item.parentCategory), [listCategories]);\r\n\r\n    if(!offer.summary) offer.summary = ''\r\n\r\n\r\n    useEffect(() => {\r\n        listCategories.map(item => {\r\n            if(item.id === offer.category.id) {\r\n                setActiveCategory(item)\r\n            }\r\n        })\r\n    }, []);\r\n\r\n\r\n    const setActiveCategory = category => {\r\n        onChange( {target: {name: 'category', value: category}})\r\n        let listSubc = listCategories.filter(item => (item.parentCategory && item.parentCategory.id === category.id))\r\n        setListSubCategories(listSubc)\r\n        setActiveSubCategory({})\r\n    }\r\n\r\n    const setActiveSubCategory = subCategory => {\r\n        onChange( {target: {name: 'subCategory', value: subCategory}})\r\n    }\r\n\r\n    const handleChangeCountry = country => {\r\n        onChange( {target: {name: 'country', value: country}})\r\n    };\r\n\r\n    const toggleItem = (item) => {\r\n        let arr = addOrRemove(offer.type, item);\r\n        onChange( {target: {name: 'type', value: arr}})\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <Label >Name your offer</Label>\r\n            <Input\r\n                name='name'\r\n                value={offer.name}\r\n                onChange={onChange}\r\n                mb={30}\r\n                placeholder=\"Ex.: Singing opera\"\r\n            />\r\n            <Label >Add a short summary of the offer</Label>\r\n            <TextArea\r\n                name='summary'\r\n                value={offer.summary}\r\n                onChange={onChange}\r\n                height={95}\r\n                count={offer.summary? offer.summary.length : ''}\r\n                placeholder=\"Ex.: Singing rock opera covers of the hits \"\r\n            />\r\n            <Label mt={20} >What is the category of your programmer?</Label>\r\n            {listParentCategories.length ?\r\n                <>\r\n                    {listParentCategories.map((item, key)=> {\r\n                        return (\r\n                            <Tab key={key}\r\n                                 title={item.category}\r\n                                 onClick={() => setActiveCategory(item)}\r\n                                 active={item.id == offer.category.id}\r\n                            />\r\n                        )\r\n                    })}\r\n                </>\r\n                :\r\n                <>\r\n                    <div>Loading...</div>\r\n                </>\r\n            }\r\n\r\n            {offer.category.id && !!listSubCategories.length &&\r\n            <>\r\n                <Label mt={40} >Choose the technology/language you use</Label>\r\n                {listSubCategories.map((item, key)=>\r\n                    <Tab key={key}\r\n                         title={item.category}\r\n                         onClick={() => setActiveSubCategory(item)}\r\n                         active={item.id == offer.subCategory.id}\r\n                    />\r\n                )}\r\n            </>\r\n            }\r\n\r\n            <Button green loading={isLoading} onClick={onSave} mt={70}>Save</Button>\r\n        </>\r\n    );\r\n};\r\n\r\n"]},"metadata":{},"sourceType":"module"}