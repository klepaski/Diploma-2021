{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { Footer, Title, WhoCard } from \"../../components/Layouts/styledLayouts\";\nimport { Wrapper, WrapperHeight } from \"../../components/StyledComponents/Wrapper\";\nimport { Button } from \"../../components/controls/Button/Button\";\nimport Header from \"../../components/Header/Header\";\nimport { withAuthSync } from '../../utils/auth';\nimport { showNotification } from '../../utils/notification';\nimport { apiCreateTalent, apiGetMe } from '../../actions/api';\nimport Discounts from \"../../components/Offer/discounts/Discounts\";\nimport Based from \"../../components/Offer/discounts/Based\";\n\nvar Introduce = function Introduce() {\n  var _useState = useState(0),\n      tab = _useState[0],\n      setTab = _useState[1];\n\n  var _useState2 = useState(0),\n      tab2 = _useState2[0],\n      setTab2 = _useState2[1];\n\n  var _useState3 = useState(1),\n      step = _useState3[0],\n      setStep = _useState3[1];\n\n  var _useState4 = useState(false),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  var handleNext = function handleNext() {\n    return _regeneratorRuntime.async(function handleNext$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (step == 1) {\n              if (tab === 1) {\n                Router.push('/search'); // showNotification('info', 'create client')\n              } else {\n                setStep(2);\n              }\n            } else {\n              if (tab2 === 1) {\n                setLoading(true);\n                apiCreateTalent().then(function (res) {\n                  Router.push('/offers/create');\n                })[\"catch\"](function () {});\n              } else {\n                Router.push('/new-company');\n              }\n            }\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    });\n  };\n\n  var disabled = (step == 1 ? !tab : !tab2) || loading;\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    isReg: true\n  }), __jsx(Wrapper, {\n    p: 18,\n    pt: 35\n  }, __jsx(WrapperHeight, null, __jsx(Title, {\n    mb: 25\n  }, \"Introduce yourself\"), step == 1 ? __jsx(React.Fragment, null, __jsx(WhoCard, {\n    title: \"Client\",\n    description: \"Organize events of any size at any location, make them unforgettable inviting great artists\",\n    active: tab === 1,\n    onClick: function onClick() {\n      return setTab(1);\n    }\n  }), __jsx(WhoCard, {\n    title: \"Talent\",\n    description: \"Make money using your talent here and now, create offers and sell your services\",\n    active: tab === 2,\n    onClick: function onClick() {\n      return setTab(2);\n    }\n  })) : __jsx(React.Fragment, null, __jsx(WhoCard, {\n    title: \"Talent / Artist\",\n    description: \"Make money using your talent here and now, create offers and sell your services\",\n    active: tab2 === 1,\n    onClick: function onClick() {\n      return setTab2(1);\n    }\n  }), __jsx(WhoCard, {\n    title: \"Event agency\",\n    description: \"Coordinate your artists, easily manage events and schedule performances\",\n    active: tab2 === 2,\n    onClick: function onClick() {\n      return setTab2(2);\n    }\n  }))), __jsx(Footer, {\n    mt: 30,\n    flexEnd: step === 1\n  }, step != 1 && __jsx(Button, {\n    onClick: function onClick() {\n      return setStep(1);\n    }\n  }, \"Back\"), __jsx(Button, {\n    green: true,\n    onClick: function onClick() {\n      return handleNext();\n    },\n    disabled: disabled\n  }, \"Next\"))));\n};\n\nexport default withAuthSync(Introduce);","map":{"version":3,"sources":["D:/git/webapp3/webapp/pages/registration/introduce.js"],"names":["React","useState","useContext","Router","useRouter","Footer","Title","WhoCard","Wrapper","WrapperHeight","Button","Header","withAuthSync","showNotification","apiCreateTalent","apiGetMe","Discounts","Based","Introduce","tab","setTab","tab2","setTab2","step","setStep","loading","setLoading","handleNext","push","then","res","disabled"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Router, { useRouter } from 'next/router'\r\nimport {Footer, Title, WhoCard} from \"../../components/Layouts/styledLayouts\";\r\nimport {Wrapper, WrapperHeight} from \"../../components/StyledComponents/Wrapper\";\r\nimport {Button} from \"../../components/controls/Button/Button\";\r\nimport Header from \"../../components/Header/Header\"\r\n\r\nimport { withAuthSync} from '../../utils/auth'\r\nimport { showNotification} from '../../utils/notification'\r\nimport {apiCreateTalent, apiGetMe} from '../../actions/api'\r\nimport Discounts from \"../../components/Offer/discounts/Discounts\";\r\nimport Based from \"../../components/Offer/discounts/Based\";\r\n\r\nconst Introduce = () => {\r\n    const [tab, setTab] = useState(0)\r\n    const [tab2, setTab2] = useState(0)\r\n    const [step, setStep] = useState(1)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleNext = async () => {\r\n        if(step == 1) {\r\n            if(tab === 1) {\r\n                Router.push('/search')\r\n                // showNotification('info', 'create client')\r\n            } else {\r\n                setStep(2)\r\n            }\r\n        } else {\r\n            if(tab2 === 1) {\r\n                setLoading(true)\r\n                apiCreateTalent()\r\n                    .then((res) => {\r\n                        Router.push('/offers/create')\r\n                    })\r\n                    .catch(() => {\r\n\r\n                    });\r\n            } else {\r\n                Router.push('/new-company')\r\n            }\r\n        }\r\n    }\r\n\r\n    let disabled = (step == 1 ? !tab : !tab2) || loading\r\n\r\n    return (\r\n        <>\r\n            <Header isReg />\r\n            <Wrapper p={18} pt={35}>\r\n                <WrapperHeight>\r\n                    <Title mb={25} >Introduce yourself</Title>\r\n                    {step == 1 ?\r\n                        <>\r\n                            <WhoCard\r\n                                title='Client'\r\n                                description='Organize events of any size at any location, make them unforgettable inviting great artists'\r\n                                active={tab === 1}\r\n                                onClick={() => setTab(1)}\r\n                            />\r\n                            <WhoCard\r\n                                title='Talent'\r\n                                description='Make money using your talent here and now, create offers and sell your services'\r\n                                active={tab === 2}\r\n                                onClick={() => setTab(2)}\r\n                            />\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <WhoCard\r\n                                title='Talent / Artist'\r\n                                description='Make money using your talent here and now, create offers and sell your services'\r\n                                active={tab2 === 1}\r\n                                onClick={() => setTab2(1)}\r\n                            />\r\n                            <WhoCard\r\n                                title='Event agency'\r\n                                description='Coordinate your artists, easily manage events and schedule performances'\r\n                                active={tab2 === 2}\r\n                                onClick={() => setTab2(2)}\r\n                            />\r\n                        </>\r\n                    }\r\n                </WrapperHeight>\r\n\r\n\r\n                <Footer mt={30} flexEnd={step === 1}>\r\n                    {step !=1 && <Button onClick={() => setStep(1)}>Back</Button> }\r\n                    <Button green\r\n                            onClick={() => handleNext()}\r\n                            disabled={disabled}\r\n                    >\r\n                        Next\r\n                    </Button>\r\n                </Footer>\r\n\r\n            </Wrapper>\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default withAuthSync(Introduce)\r\n\r\n"]},"metadata":{},"sourceType":"module"}