{"ast":null,"code":"import _taggedTemplateLiteral from \"@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral\";\nvar __jsx = React.createElement;\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: #00C874;\\n  height: 23px;\\n  width: 23px;\\n  border-radius: 50%;\\n  font-size: 14px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: inline-block;\\n  margin-left: 5px;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useContext, useRef } from 'react';\nimport Link from \"next/link\";\nimport useOnClickOutside from 'use-onclickoutside';\nimport { MainContext, MainConsumer } from \"../contextProviders/MainContext\";\nimport { SidebarWrapper, SidebarItem, SidebarHeaderHome, HeaderWrapper } from './styledHeader';\nimport { Divider } from '../StyledComponents/Divider';\nimport { FlexBlock } from \"../StyledComponents/FlexBlock\";\nimport { Bars, Close, Logo } from \"../StyledComponents/Icon\";\nimport { SubTitle } from \"../StyledComponents/Text\";\nimport { logout } from \"../../utils/auth\";\nimport Router from \"next/router\";\nimport { Wrapper } from \"../StyledComponents/Wrapper\";\nimport styled from \"styled-components\";\nimport { useDetectDevice } from \"../../lib/useDetectDevice\";\n\nvar Sidebar = function Sidebar(_ref) {\n  var isHomepage = _ref.isHomepage,\n      toggleSidebar = _ref.toggleSidebar,\n      hideSidebar = _ref.hideSidebar,\n      logout = _ref.logout;\n\n  var _useContext = useContext(MainContext),\n      me = _useContext.me,\n      setMe = _useContext.setMe,\n      unreadMessages = _useContext.unreadMessages;\n\n  var currentDevice = useDetectDevice();\n\n  var handleDelayClose = function handleDelayClose() {\n    setTimeout(function () {\n      toggleSidebar();\n    }, 100);\n  };\n\n  var ref = useRef(null);\n  useOnClickOutside(ref, hideSidebar);\n  return __jsx(SidebarWrapper, {\n    ref: currentDevice.isLaptopDesktop ? ref : null,\n    className: \"sidebar-is-opened\",\n    isHomepage: true\n  }, isHomepage && __jsx(SidebarHeaderHome, null, __jsx(\"div\", null), __jsx(Close, {\n    onClick: toggleSidebar\n  })), __jsx(\"div\", {\n    onClick: function onClick() {\n      return handleDelayClose();\n    }\n  }, __jsx(Link, {\n    href: '/'\n  }, __jsx(SidebarItem, null, \"Home\")), me.id ? __jsx(React.Fragment, null, __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(Link, {\n    href: '/profile/edit'\n  }, __jsx(SidebarItem, null, \"Profile\")), __jsx(Link, {\n    href: '/profile/offers'\n  }, __jsx(SidebarItem, null, \"My offers\")), __jsx(Link, {\n    href: '/inbox'\n  }, __jsx(SidebarItem, null, \"Messages\", !!unreadMessages && __jsx(UnreadMessagesContainer, null, __jsx(UnreadMessages, null, unreadMessages)))), __jsx(Link, {\n    href: '/profile/wish-list'\n  }, __jsx(SidebarItem, null, \"Wishlist\")), __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(SidebarItem, {\n    onClick: logout\n  }, \"Logout\")) : __jsx(React.Fragment, null, __jsx(Divider, {\n    grey: true,\n    full: true,\n    mt: '5px',\n    mb: 20\n  }), __jsx(Link, {\n    href: \"/login\",\n    as: '/login'\n  }, __jsx(SidebarItem, null, \"Login\")))));\n};\n\nexport default Sidebar;\nvar UnreadMessagesContainer = styled.div(_templateObject());\nvar UnreadMessages = styled.div(_templateObject2());","map":{"version":3,"sources":["D:/4/диплом/webapp/components/Header/Sidebar.js"],"names":["React","useState","useContext","useRef","Link","useOnClickOutside","MainContext","MainConsumer","SidebarWrapper","SidebarItem","SidebarHeaderHome","HeaderWrapper","Divider","FlexBlock","Bars","Close","Logo","SubTitle","logout","Router","Wrapper","styled","useDetectDevice","Sidebar","isHomepage","toggleSidebar","hideSidebar","me","setMe","unreadMessages","currentDevice","handleDelayClose","setTimeout","ref","isLaptopDesktop","id","UnreadMessagesContainer","div","UnreadMessages"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,MAArC,QAAkD,OAAlD;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,iBAAP,MAA8B,oBAA9B;AACA,SAAQC,WAAR,EAAqBC,YAArB,QAAwC,iCAAxC;AACA,SAAQC,cAAR,EAAwBC,WAAxB,EAAqCC,iBAArC,EAAwDC,aAAxD,QAA4E,gBAA5E;AACA,SAAQC,OAAR,QAAsB,6BAAtB;AACA,SAAQC,SAAR,QAAwB,+BAAxB;AACA,SAAQC,IAAR,EAAcC,KAAd,EAAqBC,IAArB,QAAgC,0BAAhC;AACA,SAAQC,QAAR,QAAuB,0BAAvB;AACA,SAAQC,MAAR,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAAQC,OAAR,QAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,eAAR,QAA8B,2BAA9B;;AAGA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAAsD;AAAA,MAApDC,UAAoD,QAApDA,UAAoD;AAAA,MAAxCC,aAAwC,QAAxCA,aAAwC;AAAA,MAAzBC,WAAyB,QAAzBA,WAAyB;AAAA,MAAZR,MAAY,QAAZA,MAAY;;AAAA,oBAC9BhB,UAAU,CAACI,WAAD,CADoB;AAAA,MAC3DqB,EAD2D,eAC3DA,EAD2D;AAAA,MACvDC,KADuD,eACvDA,KADuD;AAAA,MAChDC,cADgD,eAChDA,cADgD;;AAElE,MAAMC,aAAa,GAAGR,eAAe,EAArC;;AAEA,MAAMS,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC3BC,IAAAA,UAAU,CAAC,YAAM;AACbP,MAAAA,aAAa;AAChB,KAFS,EAEP,GAFO,CAAV;AAGH,GAJD;;AAMA,MAAMQ,GAAG,GAAG9B,MAAM,CAAC,IAAD,CAAlB;AACAE,EAAAA,iBAAiB,CAAC4B,GAAD,EAAMP,WAAN,CAAjB;AAEA,SACI,MAAC,cAAD;AAAgB,IAAA,GAAG,EAAEI,aAAa,CAACI,eAAd,GAAgCD,GAAhC,GAAsC,IAA3D;AAAiE,IAAA,SAAS,EAAC,mBAA3E;AAA+F,IAAA,UAAU;AAAzG,KACKT,UAAU,IACX,MAAC,iBAAD,QACI,kBADJ,EAKI,MAAC,KAAD;AAAO,IAAA,OAAO,EAAEC;AAAhB,IALJ,CAFJ,EAkBI;AAAK,IAAA,OAAO,EAAE;AAAA,aAAMM,gBAAgB,EAAtB;AAAA;AAAd,KACI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,WAAD,eADJ,CADJ,EAKKJ,EAAE,CAACQ,EAAH,GACD,4BACI,MAAC,OAAD;AAAS,IAAA,IAAI,MAAb;AAAc,IAAA,IAAI,MAAlB;AAAmB,IAAA,EAAE,EAAE,KAAvB;AAA8B,IAAA,EAAE,EAAE;AAAlC,IADJ,EAEI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,WAAD,kBADJ,CAFJ,EASI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,WAAD,oBADJ,CATJ,EAaI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,WAAD,oBAEK,CAAC,CAACN,cAAF,IAAoB,MAAC,uBAAD,QACjB,MAAC,cAAD,QAAiBA,cAAjB,CADiB,CAFzB,CADJ,CAbJ,EAqBI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAE;AAAZ,KACI,MAAC,WAAD,mBADJ,CArBJ,EA+BI,MAAC,OAAD;AAAS,IAAA,IAAI,MAAb;AAAc,IAAA,IAAI,MAAlB;AAAmB,IAAA,EAAE,EAAE,KAAvB;AAA8B,IAAA,EAAE,EAAE;AAAlC,IA/BJ,EAgCI,MAAC,WAAD;AAAa,IAAA,OAAO,EAAEX;AAAtB,cAhCJ,CADC,GAoCG,4BACI,MAAC,OAAD;AAAS,IAAA,IAAI,MAAb;AAAc,IAAA,IAAI,MAAlB;AAAmB,IAAA,EAAE,EAAE,KAAvB;AAA8B,IAAA,EAAE,EAAE;AAAlC,IADJ,EAEI,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAoB,IAAA,EAAE,EAAE;AAAxB,KACI,MAAC,WAAD,gBADJ,CAFJ,CAzCR,CAlBJ,CADJ;AA8EH,CA3FD;;AA6FA,eAAeK,OAAf;AAGA,IAAMa,uBAAuB,GAAGf,MAAM,CAACgB,GAAV,mBAA7B;AAIA,IAAMC,cAAc,GAAGjB,MAAM,CAACgB,GAAV,oBAApB","sourcesContent":["import React, {useState, useContext, useRef} from 'react';\r\nimport Link from \"next/link\";\r\nimport useOnClickOutside from 'use-onclickoutside'\r\nimport {MainContext, MainConsumer} from \"../contextProviders/MainContext\";\r\nimport {SidebarWrapper, SidebarItem, SidebarHeaderHome, HeaderWrapper} from './styledHeader'\r\nimport {Divider} from '../StyledComponents/Divider'\r\nimport {FlexBlock} from \"../StyledComponents/FlexBlock\";\r\nimport {Bars, Close, Logo} from \"../StyledComponents/Icon\";\r\nimport {SubTitle} from \"../StyledComponents/Text\";\r\nimport {logout} from \"../../utils/auth\";\r\nimport Router from \"next/router\";\r\nimport {Wrapper} from \"../StyledComponents/Wrapper\";\r\nimport styled from \"styled-components\";\r\nimport {useDetectDevice} from \"../../lib/useDetectDevice\";\r\n\r\n\r\nconst Sidebar = ({isHomepage, toggleSidebar, hideSidebar, logout}) => {\r\n    const {me, setMe, unreadMessages} = useContext(MainContext)\r\n    const currentDevice = useDetectDevice()\r\n\r\n    const handleDelayClose = () => {\r\n        setTimeout(() => {\r\n            toggleSidebar()\r\n        }, 100)\r\n    }\r\n\r\n    const ref = useRef(null)\r\n    useOnClickOutside(ref, hideSidebar)\r\n\r\n    return (\r\n        <SidebarWrapper ref={currentDevice.isLaptopDesktop ? ref : null} className='sidebar-is-opened' isHomepage>\r\n            {isHomepage &&\r\n            <SidebarHeaderHome>\r\n                <div>\r\n                    {/*<Logo/>*/}\r\n                    {/*<Bars onClick={toggleSidebar} />*/}\r\n                </div>\r\n                <Close onClick={toggleSidebar} />\r\n                {/*{!me.id ?*/}\r\n                {/*    <Link href=\"/registration\">*/}\r\n                {/*        <SubTitle>Sign up</SubTitle>*/}\r\n                {/*    </Link>*/}\r\n                {/*    :*/}\r\n                {/*    <SubTitle onClick={logout}>Logout</SubTitle>*/}\r\n                {/*}*/}\r\n            </SidebarHeaderHome>\r\n            }\r\n\r\n            <div onClick={() => handleDelayClose()}>\r\n                <Link href={'/'}>\r\n                    <SidebarItem>Home</SidebarItem>\r\n                </Link>\r\n\r\n                {me.id ?\r\n                <>\r\n                    <Divider grey full mt={'5px'} mb={20} />\r\n                    <Link href={'/profile/edit'}>\r\n                        <SidebarItem>Profile</SidebarItem>\r\n                    </Link>\r\n                    {/*<Link href={''}>*/}\r\n                    {/*    <SidebarItem isNoActive >Orders</SidebarItem>*/}\r\n                    {/*</Link>*/}\r\n\r\n                    <Link href={'/profile/offers'}>\r\n                        <SidebarItem>My offers</SidebarItem>\r\n                    </Link>\r\n\r\n                    <Link href={'/inbox'}>\r\n                        <SidebarItem>\r\n                            Messages\r\n                            {!!unreadMessages && <UnreadMessagesContainer>\r\n                                <UnreadMessages>{unreadMessages}</UnreadMessages>\r\n                            </UnreadMessagesContainer>}\r\n                        </SidebarItem>\r\n                    </Link>\r\n                    <Link href={'/profile/wish-list'}>\r\n                        <SidebarItem >Wishlist</SidebarItem>\r\n                    </Link>\r\n                    {/*<SidebarItem></SidebarItem>*/}\r\n\r\n                    {/*<Link href={''}>*/}\r\n                    {/*    <SidebarItem>Switch to Client</SidebarItem>*/}\r\n                    {/*</Link>*/}\r\n                    {/*<Divider grey full mt={'5px'} mb={20} />*/}\r\n\r\n                    <Divider grey full mt={'5px'} mb={20} />\r\n                    <SidebarItem onClick={logout}>Logout</SidebarItem>\r\n                </>\r\n                    :\r\n                    <>\r\n                        <Divider grey full mt={'5px'} mb={20} />\r\n                        <Link href=\"/login\" as={'/login'}>\r\n                            <SidebarItem>Login</SidebarItem>\r\n                        </Link>\r\n\r\n                    </>\r\n                }\r\n\r\n\r\n            </div>\r\n\r\n\r\n\r\n\r\n        </SidebarWrapper>\r\n\r\n    );\r\n};\r\n\r\nexport default Sidebar;\r\n\r\n\r\nconst UnreadMessagesContainer = styled.div`\r\n  display: inline-block;\r\n  margin-left: 5px;\r\n`;\r\nconst UnreadMessages = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: #00C874;\r\n  height: 23px;\r\n  width: 23px;\r\n  border-radius: 50%;\r\n  font-size: 14px;\r\n`;"]},"metadata":{},"sourceType":"module"}