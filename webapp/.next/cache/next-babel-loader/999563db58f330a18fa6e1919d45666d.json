{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport ImageGallery from 'react-image-gallery';\nimport Slider from 'react-slick';\nimport styled from 'styled-components';\nimport galleryBg from '../../static/img/gallery-bg.jpg';\nimport { modifySrc } from '../../utils/modifySrc';\nimport { ButtonIcon } from '../controls/Button/ButtonWithIcon';\nimport { device } from '../../lib/mediaDevice';\nimport 'react-image-gallery/styles/css/image-gallery.css';\nimport { useDetectDevice } from '../../lib/useDetectDevice';\nimport { OnlyMobile, OnlyDesktop } from '../StyledComponents/Grid';\nimport './styles.css';\nimport ArrowIcon from '../../static/img/white-arrow.png';\nimport OfferCover from '../../static/img/offer_cover_big.jpg';\n\nconst GalleryOffer = ({\n  offer,\n  handleToggleLike\n}) => {\n  const {\n    avatarUrl,\n    offerPhoto,\n    status\n  } = offer;\n  const {\n    0: active,\n    1: setActive\n  } = useState(0);\n  const {\n    0: arrayPhotos,\n    1: setArrayPhotos\n  } = useState([]);\n  const currentDevice = useDetectDevice();\n  useEffect(() => {\n    let filteredPhoto = offerPhoto.filter(item => item.photoUrl !== avatarUrl);\n    let photos = avatarUrl ? [{\n      photoUrl: avatarUrl\n    }, ...filteredPhoto] : filteredPhoto;\n    let images = photos.map(item => {\n      return {\n        original: modifySrc(item.photoUrl, 'offer')\n      }; // return { original: item.photoUrl }\n    });\n    setArrayPhotos(images);\n  }, [offer.id]);\n\n  function SampleNextArrow(props) {\n    const {\n      className,\n      style,\n      onClick\n    } = props;\n    return __jsx(\"img\", {\n      className: className,\n      src: ArrowIcon,\n      onClick: onClick\n    });\n  }\n\n  function SamplePrevArrow(props) {\n    const {\n      className,\n      style,\n      onClick\n    } = props;\n    return __jsx(\"img\", {\n      className: className,\n      src: ArrowIcon,\n      onClick: onClick\n    });\n  }\n\n  const settings = {\n    className: 'slider variable-width',\n    dots: false,\n    infinite: true,\n    centerMode: false,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    variableWidth: true,\n    nextArrow: __jsx(SampleNextArrow, null),\n    prevArrow: __jsx(SamplePrevArrow, null)\n  };\n  return __jsx(GalleryWrapper, null, __jsx(OnlyMobile, null, !!arrayPhotos.length && __jsx(ImageGallery, {\n    items: arrayPhotos,\n    showThumbnails: false,\n    showPlayButton: false,\n    showFullscreenButton: currentDevice.isLaptopDesktop ? false : true\n  })), offer.id && __jsx(OnlyDesktop, null, arrayPhotos.length > 2 ? __jsx(Slider, settings, arrayPhotos.map(item => __jsx(\"img\", {\n    src: item.original,\n    alt: \"img\"\n  }))) : __jsx(Cover, {\n    src: arrayPhotos[0] ? arrayPhotos[0].original : null\n  })), __jsx(BtnShareLike, null, __jsx(ButtonIcon, {\n    offer: true,\n    like: true,\n    active: offer.myLike,\n    onClick: handleToggleLike\n  }), __jsx(ButtonIcon, {\n    offer: true,\n    share: true\n  })));\n};\n\nconst GalleryWrapper = styled.div`\n  position: relative;\n\n  @media ${device.laptopDesktop} {\n    .image-gallery-slide img {\n      height: 50vh;\n      min-height: 50vh;\n    }\n  }\n`;\nconst BtnShareLike = styled.div`\n  position: absolute;\n  top: 15px;\n  right: 15px;\n\n  @media ${device.laptopDesktop} {\n    right: 150px;\n    bottom: 15px;\n    top: auto;\n  }\n`;\nconst Cover = styled.div`\n  height: 70vh;\n  width: 100%;\n  background: url(${p => p.src ? p.src : OfferCover});\n  background-size: cover;\n`;\nexport { GalleryOffer };","map":{"version":3,"sources":["D:/git/webapp3/webapp/components/Gallery/GalleryOffer.js"],"names":["React","useState","useEffect","ImageGallery","Slider","styled","galleryBg","modifySrc","ButtonIcon","device","useDetectDevice","OnlyMobile","OnlyDesktop","ArrowIcon","OfferCover","GalleryOffer","offer","handleToggleLike","avatarUrl","offerPhoto","status","active","setActive","arrayPhotos","setArrayPhotos","currentDevice","filteredPhoto","filter","item","photoUrl","photos","images","map","original","id","SampleNextArrow","props","className","style","onClick","SamplePrevArrow","settings","dots","infinite","centerMode","slidesToShow","slidesToScroll","variableWidth","nextArrow","prevArrow","length","isLaptopDesktop","myLike","GalleryWrapper","div","laptopDesktop","BtnShareLike","Cover","p","src"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport ImageGallery from 'react-image-gallery'\r\nimport Slider from 'react-slick'\r\nimport styled from 'styled-components'\r\nimport galleryBg from '../../static/img/gallery-bg.jpg'\r\nimport { modifySrc } from '../../utils/modifySrc'\r\nimport { ButtonIcon } from '../controls/Button/ButtonWithIcon'\r\nimport { device } from '../../lib/mediaDevice'\r\nimport 'react-image-gallery/styles/css/image-gallery.css'\r\nimport { useDetectDevice } from '../../lib/useDetectDevice'\r\nimport { OnlyMobile, OnlyDesktop } from '../StyledComponents/Grid'\r\nimport './styles.css'\r\nimport ArrowIcon from '../../static/img/white-arrow.png'\r\nimport OfferCover from '../../static/img/offer_cover_big.jpg'\r\n\r\nconst GalleryOffer = ({ offer, handleToggleLike }) => {\r\n  const { avatarUrl, offerPhoto, status } = offer\r\n  const [active, setActive] = useState(0)\r\n  const [arrayPhotos, setArrayPhotos] = useState([])\r\n  const currentDevice = useDetectDevice()\r\n\r\n  useEffect(() => {\r\n    let filteredPhoto = offerPhoto.filter((item) => item.photoUrl !== avatarUrl)\r\n    let photos = avatarUrl ? [{ photoUrl: avatarUrl }, ...filteredPhoto] : filteredPhoto\r\n    let images = photos.map((item) => {\r\n      return { original: modifySrc(item.photoUrl, 'offer') }\r\n      // return { original: item.photoUrl }\r\n    })\r\n    setArrayPhotos(images)\r\n  }, [offer.id])\r\n\r\n  function SampleNextArrow(props) {\r\n    const { className, style, onClick } = props\r\n    return <img className={className} src={ArrowIcon} onClick={onClick} />\r\n  }\r\n\r\n  function SamplePrevArrow(props) {\r\n    const { className, style, onClick } = props\r\n    return <img className={className} src={ArrowIcon} onClick={onClick} />\r\n  }\r\n\r\n  const settings = {\r\n    className: 'slider variable-width',\r\n    dots: false,\r\n    infinite: true,\r\n    centerMode: false,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    variableWidth: true,\r\n    nextArrow: <SampleNextArrow />,\r\n    prevArrow: <SamplePrevArrow />,\r\n  }\r\n\r\n\r\n  return (\r\n    <GalleryWrapper>\r\n      <OnlyMobile>\r\n        {!!arrayPhotos.length &&\r\n        <ImageGallery\r\n            items={arrayPhotos}\r\n            showThumbnails={false}\r\n            showPlayButton={false}\r\n            showFullscreenButton={currentDevice.isLaptopDesktop ? false : true}\r\n        />\r\n        }\r\n      </OnlyMobile>\r\n\r\n      {offer.id && (\r\n        <OnlyDesktop>\r\n          {arrayPhotos.length > 2 ? (\r\n            <Slider {...settings}>\r\n              {arrayPhotos.map((item) => (\r\n                <img src={item.original} alt=\"img\" />\r\n              ))}\r\n            </Slider>\r\n          ) : (\r\n            <Cover src={arrayPhotos[0] ? arrayPhotos[0].original : null} />\r\n          )}\r\n        </OnlyDesktop>\r\n      )}\r\n\r\n      <BtnShareLike>\r\n        <ButtonIcon offer like active={offer.myLike} onClick={handleToggleLike}></ButtonIcon>\r\n        <ButtonIcon offer share></ButtonIcon>\r\n      </BtnShareLike>\r\n    </GalleryWrapper>\r\n  )\r\n}\r\n\r\nconst GalleryWrapper = styled.div`\r\n  position: relative;\r\n\r\n  @media ${device.laptopDesktop} {\r\n    .image-gallery-slide img {\r\n      height: 50vh;\r\n      min-height: 50vh;\r\n    }\r\n  }\r\n`\r\nconst BtnShareLike = styled.div`\r\n  position: absolute;\r\n  top: 15px;\r\n  right: 15px;\r\n\r\n  @media ${device.laptopDesktop} {\r\n    right: 150px;\r\n    bottom: 15px;\r\n    top: auto;\r\n  }\r\n`\r\n\r\nconst Cover = styled.div`\r\n  height: 70vh;\r\n  width: 100%;\r\n  background: url(${(p) => (p.src ? p.src : OfferCover)});\r\n  background-size: cover;\r\n`\r\n\r\nexport { GalleryOffer }\r\n"]},"metadata":{},"sourceType":"module"}