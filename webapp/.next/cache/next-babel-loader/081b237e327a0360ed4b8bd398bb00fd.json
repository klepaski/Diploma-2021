{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useContext } from 'react';\nimport Router, { useRouter } from 'next/router';\nimport { Footer, Title, WhoCard } from \"../../components/Layouts/styledLayouts\";\nimport { Wrapper, WrapperHeight } from \"../../components/StyledComponents/Wrapper\";\nimport { Button } from \"../../components/controls/Button/Button\";\nimport Header from \"../../components/Header/Header\";\nimport { withAuthSync } from '../../utils/auth';\nimport { showNotification } from '../../utils/notification';\nimport { apiCreateTalent, apiGetMe } from '../../actions/api';\nimport Discounts from \"../../components/Offer/discounts/Discounts\";\nimport Based from \"../../components/Offer/discounts/Based\";\n\nconst Introduce = () => {\n  const {\n    0: tab,\n    1: setTab\n  } = useState(0);\n  const {\n    0: tab2,\n    1: setTab2\n  } = useState(0);\n  const {\n    0: step,\n    1: setStep\n  } = useState(1);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const handleNext = async () => {\n    if (step == 1) {\n      if (tab === 1) {\n        Router.push('/search'); // showNotification('info', 'create client')\n      } else {\n        setStep(2);\n      }\n    } else {\n      if (tab2 === 1) {\n        setLoading(true);\n        apiCreateTalent().then(res => {\n          Router.push('/offers/create');\n        }).catch(() => {});\n      } else {\n        Router.push('/new-company');\n      }\n    }\n  };\n\n  let disabled = (step == 1 ? !tab : !tab2) || loading;\n  return __jsx(React.Fragment, null, __jsx(Header, {\n    isReg: true\n  }), __jsx(Wrapper, {\n    p: 18,\n    pt: 35\n  }, __jsx(WrapperHeight, null, __jsx(Title, {\n    mb: 25\n  }, \"Introduce yourself\"), step == 1 ? __jsx(React.Fragment, null, __jsx(WhoCard, {\n    title: \"Client\",\n    description: \"Organize events of any size at any location, make them unforgettable inviting great artists\",\n    active: tab === 1,\n    onClick: () => setTab(1)\n  }), __jsx(WhoCard, {\n    title: \"Talent\",\n    description: \"Make money using your talent here and now, create offers and sell your services\",\n    active: tab === 2,\n    onClick: () => setTab(2)\n  })) : __jsx(React.Fragment, null, __jsx(WhoCard, {\n    title: \"Talent / Artist\",\n    description: \"Make money using your talent here and now, create offers and sell your services\",\n    active: tab2 === 1,\n    onClick: () => setTab2(1)\n  }), __jsx(WhoCard, {\n    title: \"Event agency\",\n    description: \"Coordinate your artists, easily manage events and schedule performances\",\n    active: tab2 === 2,\n    onClick: () => setTab2(2)\n  }))), __jsx(Footer, {\n    mt: 30,\n    flexEnd: step === 1\n  }, step != 1 && __jsx(Button, {\n    onClick: () => setStep(1)\n  }, \"Back\"), __jsx(Button, {\n    green: true,\n    onClick: () => handleNext(),\n    disabled: disabled\n  }, \"Next\"))));\n};\n\nexport default withAuthSync(Introduce);","map":{"version":3,"sources":["D:/git/webapp3/webapp/pages/registration/introduce.js"],"names":["React","useState","useContext","Router","useRouter","Footer","Title","WhoCard","Wrapper","WrapperHeight","Button","Header","withAuthSync","showNotification","apiCreateTalent","apiGetMe","Discounts","Based","Introduce","tab","setTab","tab2","setTab2","step","setStep","loading","setLoading","handleNext","push","then","res","catch","disabled"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport Router, { useRouter } from 'next/router'\r\nimport {Footer, Title, WhoCard} from \"../../components/Layouts/styledLayouts\";\r\nimport {Wrapper, WrapperHeight} from \"../../components/StyledComponents/Wrapper\";\r\nimport {Button} from \"../../components/controls/Button/Button\";\r\nimport Header from \"../../components/Header/Header\"\r\n\r\nimport { withAuthSync} from '../../utils/auth'\r\nimport { showNotification} from '../../utils/notification'\r\nimport {apiCreateTalent, apiGetMe} from '../../actions/api'\r\nimport Discounts from \"../../components/Offer/discounts/Discounts\";\r\nimport Based from \"../../components/Offer/discounts/Based\";\r\n\r\nconst Introduce = () => {\r\n    const [tab, setTab] = useState(0)\r\n    const [tab2, setTab2] = useState(0)\r\n    const [step, setStep] = useState(1)\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const handleNext = async () => {\r\n        if(step == 1) {\r\n            if(tab === 1) {\r\n                Router.push('/search')\r\n                // showNotification('info', 'create client')\r\n            } else {\r\n                setStep(2)\r\n            }\r\n        } else {\r\n            if(tab2 === 1) {\r\n                setLoading(true)\r\n                apiCreateTalent()\r\n                    .then((res) => {\r\n                        Router.push('/offers/create')\r\n                    })\r\n                    .catch(() => {\r\n\r\n                    });\r\n            } else {\r\n                Router.push('/new-company')\r\n            }\r\n        }\r\n    }\r\n\r\n    let disabled = (step == 1 ? !tab : !tab2) || loading\r\n\r\n    return (\r\n        <>\r\n            <Header isReg />\r\n            <Wrapper p={18} pt={35}>\r\n                <WrapperHeight>\r\n                    <Title mb={25} >Introduce yourself</Title>\r\n                    {step == 1 ?\r\n                        <>\r\n                            <WhoCard\r\n                                title='Client'\r\n                                description='Organize events of any size at any location, make them unforgettable inviting great artists'\r\n                                active={tab === 1}\r\n                                onClick={() => setTab(1)}\r\n                            />\r\n                            <WhoCard\r\n                                title='Talent'\r\n                                description='Make money using your talent here and now, create offers and sell your services'\r\n                                active={tab === 2}\r\n                                onClick={() => setTab(2)}\r\n                            />\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <WhoCard\r\n                                title='Talent / Artist'\r\n                                description='Make money using your talent here and now, create offers and sell your services'\r\n                                active={tab2 === 1}\r\n                                onClick={() => setTab2(1)}\r\n                            />\r\n                            <WhoCard\r\n                                title='Event agency'\r\n                                description='Coordinate your artists, easily manage events and schedule performances'\r\n                                active={tab2 === 2}\r\n                                onClick={() => setTab2(2)}\r\n                            />\r\n                        </>\r\n                    }\r\n                </WrapperHeight>\r\n\r\n\r\n                <Footer mt={30} flexEnd={step === 1}>\r\n                    {step !=1 && <Button onClick={() => setStep(1)}>Back</Button> }\r\n                    <Button green\r\n                            onClick={() => handleNext()}\r\n                            disabled={disabled}\r\n                    >\r\n                        Next\r\n                    </Button>\r\n                </Footer>\r\n\r\n            </Wrapper>\r\n        </>\r\n\r\n    );\r\n};\r\n\r\nexport default withAuthSync(Introduce)\r\n\r\n"]},"metadata":{},"sourceType":"module"}